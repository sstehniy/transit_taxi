(function(t){function e(e){for(var s,o,n=e[0],l=e[1],c=e[2],u=0,p=[];u<n.length;u++)o=n[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(p.length)p.shift()();return a.push.apply(a,c||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],s=!0,n=1;n<i.length;n++){var l=i[n];0!==r[l]&&(s=!1)}s&&(a.splice(e--,1),t=o(o.s=i[0]))}return t}var s={},r={app:0},a=[];function o(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=s,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(i,s,function(e){return t[e]}.bind(null,s));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/taxi/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var d=l;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"0096":function(t,e,i){"use strict";var s=i("5bca"),r=i.n(s);r.a},"034f":function(t,e,i){"use strict";var s=i("85ec"),r=i.n(s);r.a},"0c80":function(t,e,i){},"0e32":function(t,e,i){},1158:function(t,e,i){},"1c51":function(t,e,i){},2028:function(t,e,i){},"21c8":function(t,e,i){t.exports=i.p+"img/calender-icon.73e461fd.svg"},"2e02":function(t,e,i){},"2e1b":function(t,e,i){"use strict";var s=i("1c51"),r=i.n(s);r.a},"2e90":function(t,e,i){"use strict";var s=i("89da"),r=i.n(s);r.a},"31e8":function(t,e,i){var s={"./acceptcall-icon.svg":"9ec3","./calender-icon.svg":"21c8","./chats-icon.svg":"bdd2","./drivers-icon.svg":"dcb4","./drop-icon.svg":"6505","./endcall-icon.svg":"9b8b","./info-icon.svg":"5d19","./logo.svg":"9b19","./logout-icon.svg":"4315","./orders-icon.svg":"341b","./path-icon.svg":"67a2","./pinpoint-icon.svg":"8042","./reports-icon.svg":"88b8","./status-changer-icon.svg":"eadd","./time-icon.svg":"8611","./user-icon.svg":"9780"};function r(t){var e=a(t);return i(e)}function a(t){if(!i.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}r.keys=function(){return Object.keys(s)},r.resolve=a,t.exports=r,r.id="31e8"},"341b":function(t,e,i){t.exports=i.p+"img/orders-icon.a3ed2553.svg"},3738:function(t,e,i){"use strict";var s=i("b7ea"),r=i.n(s);r.a},"3daa":function(t,e,i){"use strict";var s=i("7f8f"),r=i.n(s);r.a},"3f04":function(t,e,i){},4315:function(t,e,i){t.exports=i.p+"img/logout-icon.eba1c613.svg"},"435c":function(t,e,i){"use strict";var s=i("c45b"),r=i.n(s);r.a},"44cd":function(t,e,i){},4874:function(t,e,i){"use strict";var s=i("2028"),r=i.n(s);r.a},"4bdb":function(t,e,i){"use strict";var s=i("fcf3"),r=i.n(s);r.a},"4ca1":function(t,e,i){},"52d5":function(t,e,i){t.exports=i.p+"img/car_back.984aaa34.jpg"},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var s=i("2b0e"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},a=[],o=(i("034f"),i("2877")),n={},l=Object(o["a"])(n,r,a,!1,null,null,null),c=l.exports,d=i("8c4f"),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login-container"},[t._m(0),i("div",{staticClass:"login"},[i("div",{staticClass:"login-title"},[t._v("Вход в аккаунт")]),i("div",{staticClass:"fields"},[i("div",{staticClass:"field"},[i("label",{attrs:{for:"login"}},[t._v("Имя")]),t.director?i("input",{attrs:{name:"login",placeholder:"Director"}}):i("input",{attrs:{name:"login",placeholder:"Operator"}})]),t._m(1)]),t.director?i("router-link",{staticClass:"login-button",attrs:{to:"/director"}},[t._v("Вход")]):i("router-link",{staticClass:"login-button",attrs:{to:"/operator"}},[t._v("Вход")]),t.director?i("div",{staticClass:"change-login-type",on:{click:t.changeLoginType}},[t._v("Вход для оператора")]):i("div",{staticClass:"change-login-type",on:{click:t.changeLoginType}},[t._v("Вход для директора")])],1)])},p=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login-nav"},[s("img",{staticClass:"login-nav-logo",attrs:{src:i("9b19")}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"field"},[i("label",{attrs:{for:"password"}},[t._v("Пароль")]),i("input",{attrs:{name:"passsword",placeholder:"*************"}})])}],v={name:"login",data:function(){return{director:!0}},methods:{changeLoginType:function(){this.director=!this.director}}},h=v,m=(i("e92a"),Object(o["a"])(h,u,p,!1,null,"07925296",null)),f=m.exports,_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"director"},[i("Header",{staticClass:"header"}),i("MenuControls",{staticClass:"menu-controls"}),t.windows["orders"]?i("OrdersWindow",{staticClass:"dialogue-window"}):t._e(),t.windows["drivers"]?i("DriversWindow",{staticClass:"dialogue-window"}):t._e(),t.windows["reports"]?i("ReportsWindow",{staticClass:"dialogue-window reports"}):t._e(),t.windows["info"]?i("InfoWindow",{staticClass:"dialogue-window"}):t._e(),t.windows["chat"]?i("DirectorChat",{staticClass:"dialogue-window chat"}):t._e(),i("MapFilters",{staticClass:"map-settings"}),i("Statistics",{staticClass:"statistics"}),i("div",{attrs:{id:"map"},on:{click:t.closeOpenedTabs}})],1)},C=[],w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header-container"},[s("img",{staticClass:"logo",attrs:{src:i("9b19")}}),s("div",{staticClass:"user-container"},[s("div",{staticClass:"user"},[s("img",{staticClass:"user-icon",attrs:{src:i("9780")}}),"director"===this.$route.name?s("div",{staticClass:"user-name"},[t._v("Director")]):s("div",{staticClass:"user-name"},[t._v("Operator")])]),s("div",{staticClass:"wallet"},[t._v("-150 000Р")]),s("img",{staticClass:"logout",attrs:{src:i("4315")},on:{click:t.logout}})])])},g=[],b={name:"Header",methods:{logout:function(){this.$router.push("/")}}},k=b,x=(i("ac2e"),Object(o["a"])(k,w,g,!1,null,"b7078c38",null)),y=x.exports,F=function(){var t=this,e=t.$createElement,i=t._self._c||e;return"director"===this.$route.name?i("div",{staticClass:"menu-buttons-container"},t._l(t.buttons,(function(e){return i("MenuButton",{key:e.id,staticClass:"menu-button",attrs:{buttonInfo:e},nativeOn:{click:function(i){return t.$store.commit("toggleWindow",e.window)}}})})),1):i("div",{staticClass:"menu-buttons-container"},t._l(t.opButtons,(function(e){return i("MenuButton",{key:e.id,staticClass:"menu-button",attrs:{buttonInfo:e},nativeOn:{click:function(i){return t.$store.commit("toggleWindow",e.window)}}})})),1)},I=[],O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return"Вызов"!==t.buttonInfo.name?s("div",{staticClass:"control-button",class:{active:this.$store.state.windows[t.buttonInfo.window]}},[s("div",{staticClass:"button-misc-wrapper"},[s("img",{staticClass:"button-icon",class:{activeButtonIcon:t.buttonInfo.active},attrs:{src:i("31e8")("./"+t.buttonInfo.src+".svg")}}),s("div",{staticClass:"button-name",class:{activeButtonName:t.buttonInfo.active}},[t._v(t._s(t.buttonInfo.name))])])]):s("div",{staticClass:"call-button"},[s("img",{attrs:{src:i("9b8b")}}),s("p",[t._v("x-xxx-xxx-xx-xx")]),s("img",{attrs:{src:i("9ec3")}})])},D=[],S={props:{buttonInfo:Object}},E=S,G=(i("7331"),Object(o["a"])(E,O,D,!1,null,"29912e0e",null)),j=G.exports,$={components:{MenuButton:j},data:function(){return{buttons:[{id:1,window:"orders",src:"orders-icon",name:"Заказы"},{id:2,window:"drivers",src:"drivers-icon",name:"Водители"},{id:3,window:"info",src:"info-icon",name:"Инфо. блок"},{id:4,window:"reports",src:"reports-icon",name:"Отчеты"},{id:5,window:"chat",src:"chats-icon",name:"Чат"}],opButtons:[{id:1,window:"orders",src:"orders-icon",name:"Заказы"},{id:2,window:"drivers",src:"drivers-icon",name:"Водители"},{id:3,window:"info",src:"info-icon",name:"Инфо. блок"},{id:4,window:"orders",src:"info-icon",name:"Вызов"},{id:5,window:"chat",src:"chats-icon",name:"Чат"}]}}},A=$,M=(i("6aa4"),Object(o["a"])(A,F,I,!1,null,"782bccee",null)),P=M.exports,R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"whole-container"},[s("div",{staticClass:"container-manage"},[s("div",{staticClass:"controls"},[s("div",{staticClass:"control filters",class:{active:t.showFilters}},[s("div",{staticClass:"control-name",on:{click:t.toggleFilters}},[t._v("Фильтры")]),s("img",{staticClass:"dropdown-icon",attrs:{src:i("6505")}}),t.showFilters&&!t.showStatus?s("div",{staticClass:"filters-dropdown"},[s("div",{staticClass:"dropdown-field"},[s("p",{staticClass:"field-name"},[t._v("Группа")]),s("div",{staticClass:"dropdown-input extended"},[s("img",{staticClass:"dropdown-icon",attrs:{src:i("6505")}}),s("p",{staticClass:"input-current",on:{click:function(e){t.showGroups=!t.showGroups}}},[t._v(t._s(t.orderGroupFilters.find((function(e){return e.id===t.selectedGroupFilterId})).title))]),t.showGroups?s("div",{staticClass:"input-dropdown"},t._l(t.orderGroupFilters,(function(e){return s("div",{key:e.id,staticClass:"dropdown-item",class:{selected:e.id===t.selectedGroupFilterId},on:{click:function(i){return t.selectGroupFilter(e.id)}}},[s("p",{staticClass:"item-text"},[t._v(t._s(e.title))])])})),0):t._e()])]),s("div",{staticClass:"dropdown-field"},[s("p",{staticClass:"field-name"},[t._v("Экипаж")]),s("div",{staticClass:"dropdown-input extended"},[s("img",{staticClass:"dropdown-icon",attrs:{src:i("6505")}}),s("p",{staticClass:"input-current",on:{click:function(e){t.showCrews=!t.showCrews}}},[t._v(t._s(t.orderCrewFilters.find((function(e){return e.id===t.selectedCrewFilterId})).title))]),t.showCrews?s("div",{staticClass:"input-dropdown"},t._l(t.orderCrewFilters,(function(e){return s("div",{key:e.id,staticClass:"dropdown-item",class:{selected:e.id===t.selectedCrewFilterId},on:{click:function(i){return t.selectCrewFilter(e.id)}}},[s("p",{staticClass:"filter-title"},[t._v(t._s(e.title))])])})),0):t._e()])]),s("div",{staticClass:"dropdown-field"},[s("p",{staticClass:"field-name"},[t._v("Дата")]),s("input",{staticClass:"dropdown-input",attrs:{type:"text",placeholder:"12/05/2020",maxlength:"10"},domProps:{value:t.filterDate},on:{keyup:t.setFormattedDate}})]),s("div",{staticClass:"dropdown-footer"},[s("div",{staticClass:"footer-btn primary",on:{click:t.setFilters}},[s("p",{staticClass:"btn-text"},[t._v("Подтвердить")])]),s("div",{staticClass:"footer-btn"},[s("p",{staticClass:"btn-text",on:{click:t.cancelFilters}},[t._v("Отменить")])])])]):t._e()]),s("div",{staticClass:"control currents"},[s("div",{staticClass:"control-name",on:{click:t.toggleStatus}},[t._v(t._s(t.orderStatusFilters.find((function(e){return e.id===t.selectedStatusFilterId})).title))]),s("img",{staticClass:"dropdown-icon",attrs:{src:i("6505")}}),t.showStatus&&!t.showFilters?s("div",{staticClass:"status-dropdown"},t._l(t.orderStatusFilters,(function(e){return s("div",{key:e.id,staticClass:"status-item",class:{selected:e.id===t.selectedStatusFilterId},on:{click:function(i){return t.setStatusFilter(e.id)}}},[s("p",{staticClass:"status-title"},[t._v(t._s(e.title))])])})),0):t._e()]),s("div",{staticClass:"separator"})]),s("simplebar",{staticClass:"scrollable-orders",attrs:{"data-simplebar-auto-hide":"false"}},[t._l(t.orders,(function(e){return s("OrderMin",{key:e.id,attrs:{orderInfo:e},on:{"change-status":t.toggleSettings}})})),s("div",{staticClass:"blank-separator"})],2),s("div",{staticClass:"operations"},[s("div",{staticClass:"operations-buttons"},[s("div",{staticClass:"operations-button add-order",on:{click:function(e){return t.toggleCreateOrder(!0)}}},[t._v("+ Заказ")]),s("div",{staticClass:"operations-button refresh"},[t._v("Обновить")])]),s("div",{staticClass:"order-counter"},[t._v(t._s(this.orders.length)+"/100")])])],1),this.settings?s("StatusSettings",{staticClass:"status-settings",attrs:{statuses:t.orderStatuses},on:{"close-settings":t.updateStatus}}):t._e(),this.showCreateOrder?s("CreateOrder",{on:{"close-create-order":function(e){return t.toggleCreateOrder(!1)},"create-order":t.createOrder}}):t._e()],1)},T=[],B=(i("a15b"),i("ac1f"),i("1276"),i("8d3b")),N=(i("f138"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"order-container"},[s("div",{staticClass:"status-line",style:{"background-color":t.orderState.color}}),s("div",{staticClass:"order-manage-block"},[s("div",{staticClass:"order-info"},[s("div",{staticClass:"number-status"},[s("div",{staticClass:"order-number"},[t._v("№"+t._s("*api"))]),s("div",{staticClass:"order-status"},[t._v(t._s(t.orderState.title))])]),s("div",{staticClass:"origin"},[t._v(" "+t._s(t.orderInfo.source)+" "),s("img",{staticClass:"path-icon",attrs:{src:i("67a2")}})]),s("div",{staticClass:"destination"},[t._v(t._s(t.orderInfo.destination))]),s("div",{staticClass:"details"},[s("div",{staticClass:"order-time"},[s("img",{staticClass:"time-icon",attrs:{src:i("8611")}}),s("div",[t._v(t._s(t.orderInfo.timestamp.minutes))])]),s("div",{staticClass:"order-date"},[t._v(t._s(t.orderInfo.timestamp.date))]),s("div",{staticClass:"driver"},[s("div",{staticClass:"driver-number"},[t._v("№"+t._s("*api"))]),s("div",{staticClass:"driver-name"},[t._v(t._s("*api"))])])])])]),s("div",{staticClass:"status-changer",on:{click:t.changeStatus}},[s("img",{attrs:{src:i("eadd")}})]),t._m(0)])}),W=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pinpoint"},[s("img",{attrs:{src:i("8042")}})])}],V=(i("7db0"),{computed:{orderState:function(){var t=this;return this.$store.state.orderDetails.orderStatuses.find((function(e){return e.id===t.orderInfo.state_id}))}},props:{orderInfo:Object},methods:{changeStatus:function(){this.$emit("change-status",this.orderInfo.id)}}}),H=V,L=(i("ded0"),Object(o["a"])(H,N,W,!1,null,"5b43163c",null)),z=L.exports,Z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},t._l(t.statuses,(function(e){return i("StatusButton",{key:e.id,attrs:{buttonInfo:e},on:{"status-pick":t.closeSettings}})})),1)},q=[],J=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container-button",on:{click:t.statusPick}},[i("div",{staticClass:"color-indicator",style:{"background-color":t.buttonInfo.color}}),i("div",{staticClass:"status-indicator"},[t._v(t._s(t.buttonInfo.title))])])},U=[],Y={props:{buttonInfo:Object},methods:{statusPick:function(){this.$emit("status-pick",this.buttonInfo.id,this.buttonInfo.color)}}},K=Y,Q=(i("b5df"),Object(o["a"])(K,J,U,!1,null,"41425d3e",null)),X=Q.exports,tt={components:{StatusButton:X},props:{statuses:Array},methods:{closeSettings:function(t,e){this.$emit("close-settings",t,e)}}},et=tt,it=(i("6325"),Object(o["a"])(et,Z,q,!1,null,"f75de884",null)),st=it.exports,rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"create-order-container"},[s("div",{staticClass:"create-order-header"},[s("h3",{staticClass:"header"},[t._v("Заказ")]),s("div",{staticClass:"close-order",on:{click:function(e){return t.$emit("close-create-order")}}},[t._v("+")])]),s("simplebar",{staticClass:"scrollable-form",attrs:{"data-simplebar-auto-hide":"false"}},[s("div",{staticClass:"form-section",staticStyle:{"margin-top":"10px"}},[s("label",{staticClass:"form-label primary",attrs:{for:"client"}},[t._v("Клиент")]),s("div",{staticClass:"form-field"},[s("input",{staticClass:"form-input",class:{invalid:t.validationErrors.clientNumber},attrs:{type:"text",name:"client-number",maxlength:"15",minlength:"15",placeholder:"x-xxx-xxx-xx-x"},domProps:{value:t.clientNumber},on:{keydown:t.setClientNumber}})]),s("div",{staticClass:"form-field"},[s("label",{staticClass:"form-label",attrs:{for:"client-name-autocomplete"}},[t._v("Имя клиента:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.clientName,expression:"clientName"}],staticClass:"form-input",class:{invalid:t.validationErrors.clientName},attrs:{type:"text",name:"client-name",placeholder:"Введите имя"},domProps:{value:t.clientName},on:{input:function(e){e.target.composing||(t.clientName=e.target.value)}}})]),s("div",{staticClass:"form-field"},[s("label",{staticClass:"form-label",attrs:{for:"client-group-autocomplete"}},[t._v("Клиентская группа:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.clientGroup,expression:"clientGroup"}],staticClass:"form-input",class:{invalid:t.validationErrors.clientGroup},attrs:{type:"text",name:"client-group",placeholder:"Введите группу"},domProps:{value:t.clientGroup},on:{input:function(e){e.target.composing||(t.clientGroup=e.target.value)}}})]),s("div",{staticClass:"form-section-controls"},[s("div",{staticClass:"control-wrapper",on:{click:function(e){return t.toggleCheckBox("saveClientName")}}},[s("Checkbox",{attrs:{checked:t.saveClientName}}),s("p",{staticClass:"control-text"},[t._v("Сохранить")])],1)])]),s("div",{staticClass:"form-section"},[s("label",{staticClass:"form-label primary",attrs:{for:"route"}},[t._v("Маршрут")]),s("div",{staticClass:"form-field"},[s("div",{staticClass:"form-input extended",class:{invalid:t.validationErrors.origin}},[s("input",{attrs:{type:"text",name:"origin",placeholder:"Адрес подачи"},domProps:{value:t.origin.address},on:{input:t.setNewOrigin}}),s("img",{attrs:{alt:"pinpoint",id:"pinpoint",src:i("8042")}}),s("img",{attrs:{alt:"drop",id:"drop",src:i("6505")}})]),t._l(t.stops,(function(e,r){return s("div",{key:e.id,staticClass:"form-input extended",class:{invalid:t.validationErrors.stops&&t.validationErrors.stops[r]},attrs:{id:e.id}},[s("input",{attrs:{type:"text",name:"new-stop",placeholder:"Новый адрес"},domProps:{value:e.address},on:{input:t.updateStop}}),s("img",{attrs:{alt:"pinpoint",id:"pinpoint",src:i("8042")}}),s("img",{attrs:{alt:"drop",id:"drop",src:i("6505")}}),s("span",{attrs:{id:"delete"},on:{click:function(i){return t.removeStop(e.id)}}},[t._v("+")])])})),s("div",{staticClass:"form-input extended",class:{invalid:t.validationErrors.destination}},[s("input",{attrs:{type:"text",name:"destitation",placeholder:"Адрес назначения"},domProps:{value:t.destination.address},on:{input:t.setNewDestination}}),s("img",{attrs:{alt:"pinpoint",id:"pinpoint",src:i("8042")}}),s("img",{attrs:{alt:"drop",id:"drop",src:i("6505")}})])],2),s("div",{staticClass:"form-section-controls"},[s("div",{staticClass:"control-wrapper",on:{click:function(e){return t.toggleCheckBox("twoWayRide")}}},[s("Checkbox",{attrs:{checked:t.twoWayRide}}),s("p",{staticClass:"control-text"},[t._v("Обратно")])],1),s("div",{staticClass:"control-wrapper"},[s("AddIcon",{nativeOn:{click:function(e){return t.addStop(e)}}}),s("p",{staticClass:"control-text"},[t._v("Добавить адрес")])],1)])]),s("div",{staticClass:"form-section"},[s("label",{staticClass:"form-label primary",attrs:{for:"attributes"}},[t._v("Атрибуты")]),t._l(t.attributes,(function(e){return s("div",{key:e.id,staticClass:"form-input extended"},[s("p",[t._v(t._s(e.title))]),s("span",{attrs:{id:"delete"},on:{click:function(i){return t.removeAttribute(e.id)}}},[t._v("+")])])})),s("div",{staticClass:"form-field"},[s("div",{staticClass:"form-input extended"},[s("p",{on:{click:t.toggleAttributesDropdown}},[t._v(t._s(t.newAttribute?t.newAttribute.title:"Выберите атрибут"))]),s("img",{attrs:{alt:"drop",id:"drop",src:i("6505")},on:{click:t.toggleAttributesDropdown}}),t.showAttributes?s("FormDropdownSelect",{attrs:{options:t.getAttributes},on:{"select-option":t.setNewAttribute}}):t._e()],1)]),s("div",{staticClass:"form-section-controls"},[s("div",{staticClass:"control-wrapper"},[s("AddIcon",{nativeOn:{click:function(e){return t.addAttribute(e)}}}),s("p",{staticClass:"control-text"},[t._v("Добавить атрибут")])],1)]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.orderComment,expression:"orderComment"}],staticClass:"form-input",attrs:{type:"text",name:"order-comment",placeholder:"Комментари к заказу"},domProps:{value:t.orderComment},on:{input:function(e){e.target.composing||(t.orderComment=e.target.value)}}})],2),s("div",{staticClass:"form-section"},[s("label",{staticClass:"form-label primary",attrs:{for:"crew-group"}},[t._v("Группа экипажа")]),s("div",{staticClass:"form-field"},[s("div",{staticClass:"form-input extended",class:{invalid:t.validationErrors.crewGroup}},[s("p",{on:{click:t.toggleCrewGroupsDropdown}},[t._v(t._s(t.crewGroup.id?t.crewGroup.title:"Выберите группу"))]),s("img",{attrs:{alt:"drop",id:"drop",src:i("6505")},on:{click:t.toggleCrewGroupsDropdown}}),t.showCrewGroups?s("FormDropdownSelect",{attrs:{options:t.getCrewGroups},on:{"select-option":t.setCrewGroup}}):t._e()],1)]),s("label",{staticClass:"form-label primary",attrs:{for:"crew"}},[t._v("Экипаж")]),s("div",{staticClass:"form-field"},[s("div",{staticClass:"form-input extended",class:{invalid:t.validationErrors.crew}},[s("p",{on:{click:t.toggleCrewsDropdown}},[t._v(t._s(t.crew.id?t.crew.title:"Выберите экипаж"))]),s("img",{attrs:{alt:"drop",id:"drop",src:i("6505")},on:{click:t.toggleCrewsDropdown}}),t.showCrews?s("FormDropdownSelect",{attrs:{options:t.getCrews},on:{"select-option":t.setCrew}}):t._e()],1)]),s("div",{staticClass:"form-section-controls"},[s("div",{staticClass:"control-wrapper",on:{click:function(e){return t.toggleCheckBox("autoMatch")}}},[s("Checkbox",{attrs:{checked:t.autoMatch}}),s("p",{staticClass:"control-text"},[t._v("Автоподбор")])],1)]),s("div",{staticClass:"form-field inline"},[s("label",{staticClass:"form-label",attrs:{for:"serve-time"}},[t._v("Время подачи авто")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.serveTime,expression:"serveTime"}],staticClass:"form-input number",class:{invalid:t.validationErrors.serveTime},attrs:{type:"number",id:"serve-time",placeholder:"мин"},domProps:{value:t.serveTime},on:{input:function(e){e.target.composing||(t.serveTime=e.target.value)}}})])]),s("div",{staticClass:"form-section"},[s("label",{staticClass:"form-label primary",attrs:{for:"tariff"}},[t._v("Тариф")]),s("div",{staticClass:"form-field"},[s("div",{staticClass:"form-input extended",class:{invalid:t.validationErrors.tariff}},[s("p",{on:{click:t.toggleTariffsDropdown}},[t._v(t._s(t.tariff.id?t.tariff.title:"Выберите тариф"))]),s("img",{attrs:{alt:"drop",id:"drop",src:i("6505")},on:{click:t.toggleTariffsDropdown}}),t.showTariffs?s("FormDropdownSelect",{attrs:{options:t.getTariffs},on:{"select-option":t.setTariff}}):t._e()],1)]),s("div",{staticClass:"form-section-controls"},[s("div",{staticClass:"control-wrapper",on:{click:function(e){return t.toggleCheckBox("hourlyPayment")}}},[s("Checkbox",{attrs:{checked:t.hourlyPayment}}),s("p",{staticClass:"control-text"},[t._v("Почасовой")])],1)])]),s("div",{staticClass:"form-section"},[s("label",{staticClass:"form-label primary",attrs:{for:"state"}},[t._v("Состояние")]),s("div",{staticClass:"form-field"},[s("div",{staticClass:"form-input extended",class:{invalid:t.validationErrors.orderState}},[s("p",{on:{click:t.toggleOrderStatesDropdown}},[t._v(t._s(t.orderState.id?t.orderState.title:"Выберите состояние"))]),s("img",{attrs:{alt:"drop",id:"drop",src:i("6505")},on:{click:t.toggleOrderStatesDropdown}}),t.showOrderStates?s("FormDropdownSelect",{attrs:{options:t.getOrderStates},on:{"select-option":t.setOrderState}}):t._e()],1)])]),s("div",{staticClass:"form-section"},[s("label",{staticClass:"form-label primary",attrs:{for:"state"}},[t._v("Время")]),s("div",{staticClass:"inline-fields-container"},[s("div",{staticClass:"form-field inline"},[s("img",{attrs:{alt:"clock-icon",id:"clock",src:i("8611")}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.timestamp.minutes,expression:"timestamp.minutes"}],staticClass:"form-input number",class:{invalid:t.validationErrors.timestamp&&t.validationErrors.timestamp.minutes},attrs:{type:"number",id:"state-minutes",placeholder:"мин"},domProps:{value:t.timestamp.minutes},on:{input:function(e){e.target.composing||t.$set(t.timestamp,"minutes",e.target.value)}}})]),s("div",{staticClass:"form-field inline"},[s("img",{attrs:{alt:"calender-icon",id:"calender",src:i("21c8")}}),s("input",{staticClass:"form-input",class:{invalid:t.validationErrors.timestamp&&t.validationErrors.timestamp.date},attrs:{type:"text",id:"state-date",placeholder:"12/05/2020",maxlength:"10"},domProps:{value:t.timestamp.date},on:{keyup:t.setFormattedDate}})])]),s("div",{staticClass:"form-section-controls"},[s("div",{staticClass:"control-wrapper",on:{click:function(e){return t.toggleCheckBox("preOrder")}}},[s("Checkbox",{attrs:{checked:t.preOrder}}),s("p",{staticClass:"control-text"},[t._v("Предварительный")])],1)])]),s("div",{staticClass:"form-section"},[s("label",{staticClass:"form-label primary"},[t._v("Стоимость поездки")]),s("div",{staticClass:"form-field inline"},[s("label",{staticClass:"form-label",attrs:{for:"serve-time"}},[t._v("Сумма")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.travelCost.total,expression:"travelCost.total"}],staticClass:"form-input number",class:{invalid:t.validationErrors.travelCost&&t.validationErrors.travelCost.total},attrs:{type:"number",id:"travel-cost",placeholder:"ххх Р"},domProps:{value:t.travelCost.total},on:{input:function(e){e.target.composing||t.$set(t.travelCost,"total",e.target.value)}}})]),s("div",{staticClass:"form-field inline"},[s("label",{staticClass:"form-label",attrs:{for:"serve-time"}},[t._v("Наличные")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.travelCost.cash,expression:"travelCost.cash"}],staticClass:"form-input number",attrs:{type:"number",id:"travel-cost",placeholder:"ххх Р"},domProps:{value:t.travelCost.cash},on:{input:function(e){e.target.composing||t.$set(t.travelCost,"cash",e.target.value)}}})]),s("div",{staticClass:"form-field inline"},[s("label",{staticClass:"form-label",attrs:{for:"serve-time"}},[t._v("Карта")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.travelCost.card,expression:"travelCost.card"}],staticClass:"form-input number",attrs:{type:"number",id:"travel-cost",placeholder:"ххх Р"},domProps:{value:t.travelCost.card},on:{input:function(e){e.target.composing||t.$set(t.travelCost,"card",e.target.value)}}})])])]),s("div",{staticClass:"create-order-footer"},[s("button",{staticClass:"footer-btn total"},[s("span",{attrs:{id:"total-num"}},[t._v(t._s(t.travelCost.total?t.travelCost.total:"0"))]),t._v(" Р ")]),s("button",{staticClass:"footer-btn save",on:{click:t.submit}},[t._v("Сохранить")])])],1)},at=[],ot=(i("99af"),i("4de4"),i("4160"),i("fb6a"),i("b680"),i("b64b"),i("159b"),i("ade3")),nt=i("4f96"),lt=i("b85c"),ct=i("5530"),dt=i("2909"),ut=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"select-options-wrapper"},[i("div",{staticClass:"select-option",on:{click:function(e){return t.$emit("select-option",null)}}},[i("p",{staticClass:"option-title"},[t._v("Не выбрано")])]),t._l(t.options,(function(e){return i("div",{key:e.id,staticClass:"select-option",on:{click:function(i){return t.$emit("select-option",e)}}},[i("p",{staticClass:"option-title"},[t._v(t._s(e.title))])])}))],2)},pt=[],vt={name:"FormDropdownSelect",props:{options:Array}},ht=vt,mt=(i("2e90"),Object(o["a"])(ht,ut,pt,!1,null,"96e314aa",null)),ft=mt.exports,_t=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg",{attrs:{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M11.6071 0.9375H1.39286C0.623594 0.9375 0 1.56709 0 2.34375V12.6562C0 13.4329 0.623594 14.0625 1.39286 14.0625H11.6071C12.3764 14.0625 13 13.4329 13 12.6562V2.34375C13 1.56709 12.3764 0.9375 11.6071 0.9375ZM11.6071 12.6562H1.39286V2.34375H11.6071V12.6562ZM10.5664 5.57449Z",fill:"black"}}),t.checked?i("path",{attrs:{d:"M11.6071 0.9375H1.39286C0.623594 0.9375 0 1.56709 0 2.34375V12.6562C0 13.4329 0.623594 14.0625 1.39286 14.0625H11.6071C12.3764 14.0625 13 13.4329 13 12.6562V2.34375C13 1.56709 12.3764 0.9375 11.6071 0.9375ZM11.6071 12.6562H1.39286V2.34375H11.6071V12.6562ZM10.5664 5.57449L5.55828 10.5902C5.42175 10.727 5.20128 10.7261 5.06585 10.5882L2.43158 7.90711C2.29615 7.76927 2.29702 7.54667 2.43358 7.40991L3.09284 6.74968C3.22937 6.61295 3.44985 6.61383 3.58527 6.7517L5.32031 8.51763L9.42204 4.40974C9.55857 4.27301 9.77905 4.27389 9.91447 4.41173L10.5684 5.07729C10.7038 5.21517 10.703 5.43776 10.5664 ",fill:"black"}}):t._e()])},Ct=[],wt={name:"Checkbox",props:{checked:Boolean}},gt=wt,bt=(i("e003"),Object(o["a"])(gt,_t,Ct,!1,null,"4e3c6083",null)),kt=bt.exports,xt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg",{attrs:{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M10.2143 7.03125V7.96875C10.2143 8.16211 10.0576 8.32031 9.86607 8.32031H7.3125V10.8984C7.3125 11.0918 7.1558 11.25 6.96429 11.25H6.03571C5.8442 11.25 5.6875 11.0918 5.6875 10.8984V8.32031H3.13393C2.94241 8.32031 2.78571 8.16211 2.78571 7.96875V7.03125C2.78571 6.83789 2.94241 6.67969 3.13393 6.67969H5.6875V4.10156C5.6875 3.9082 5.8442 3.75 6.03571 3.75H6.96429C7.1558 3.75 7.3125 3.9082 7.3125 4.10156V6.67969H9.86607C10.0576 6.67969 10.2143 6.83789 10.2143 7.03125ZM13 2.34375V12.6562C13 13.4326 12.3761 14.0625 11.6071 14.0625H1.39286C0.623884 14.0625 0 13.4326 0 12.6562V2.34375C0 1.56738 0.623884 0.9375 1.39286 0.9375H11.6071C12.3761 0.9375 13 1.56738 13 2.34375ZM11.6071 12.4805V2.51953C11.6071 2.42285 11.5288 2.34375 11.433 2.34375H1.56696C1.47121 2.34375 1.39286 2.42285 1.39286 2.51953V12.4805C1.39286 12.5771 1.47121 12.6562 1.56696 12.6562H11.433C11.5288 12.6562 11.6071 12.5771 11.6071 12.4805Z",fill:"black"}})])},yt=[],Ft={name:"AddIcon"},It=Ft,Ot=(i("f6fa"),Object(o["a"])(It,xt,yt,!1,null,"0df2be90",null)),Dt=Ot.exports,St={name:"CreateOrder",components:{simplebar:B["a"],Checkbox:kt,AddIcon:Dt,FormDropdownSelect:ft},computed:{getTariffs:function(){return this.$store.state.orderDetails.tariffs},getAttributes:function(){return this.$store.state.orderDetails.attributes},getCrewGroups:function(){return this.$store.state.orderDetails.crewGroups},getCrews:function(){return this.$store.state.orderDetails.crews},getOrderStates:function(){return this.$store.state.orderDetails.orderStatuses}},data:function(){return{clientNumber:"",clientName:"",clientGroup:"",saveClientName:!1,origin:{address:"",lat:null,lon:null},stops:[],destination:{address:"",lat:null,lon:null},twoWayRide:!1,newAttribute:null,attributes:[],showAttributes:!1,orderComment:"",crewGroup:{title:"",id:null},showCrewGroups:!1,crew:{title:"",id:null},showCrews:!1,autoMatch:!1,serveTime:null,tariff:{title:"",id:null},showTariffs:!1,hourlyPayment:!1,orderState:{title:"",id:null},showOrderStates:!1,timestamp:{minutes:null,date:null},preOrder:!1,travelCost:{total:null,cash:null,card:null},validationErrors:{}}},methods:{toggleCheckBox:function(t){this[t]=!this[t]},toggleAttributesDropdown:function(){this.showCrewGroups=!1,this.showCrews=!1,this.showTariffs=!1,this.showOrderStates=!1,this.showAttributes=!this.showAttributes},toggleCrewGroupsDropdown:function(){this.showCrews=!1,this.showTariffs=!1,this.showOrderStates=!1,this.showAttributes=!1,this.showCrewGroups=!this.showCrewGroups},toggleCrewsDropdown:function(){this.showCrewGroups=!1,this.showTariffs=!1,this.showOrderStates=!1,this.showAttributes=!1,this.showCrews=!this.showCrews},toggleTariffsDropdown:function(){this.showCrewGroups=!1,this.showOrderStates=!1,this.showAttributes=!1,this.showCrews=!1,this.showTariffs=!this.showTariffs},toggleOrderStatesDropdown:function(){this.showCrewGroups=!1,this.showTariffs=!1,this.showAttributes=!1,this.showCrews=!1,this.showOrderStates=!this.showOrderStates},setNewOrigin:function(t){var e=t.target;this.origin={address:e.value,lat:this.getRandomCoord(),lon:this.getRandomCoord()}},setNewDestination:function(t){var e=t.target;this.destination={address:e.value,lat:this.getRandomCoord(),lon:this.getRandomCoord()}},addStop:function(){this.stops=[].concat(Object(dt["a"])(this.stops),[{address:"",lat:null,lon:null,id:this.stops.length}])},updateStop:function(t){var e=t.target,i=this.stops.find((function(t){return t.id===+e.parentNode.id}));i.address=e.value,i.lat=this.getRandomCoord(),i.lon=this.getRandomCoord()},removeStop:function(t){this.stops=this.stops.filter((function(e){return e.id!==t}))},setNewAttribute:function(t){(this.attributes.length&&!this.attributes.find((function(e){return e.id===t.id}))||!this.attributes.length)&&t?(this.newAttribute={id:t.id,title:t.title},this.showAttributes=!1,console.log("added new attr")):(this.newAttribute=null,this.showAttributes=!1)},addAttribute:function(){this.newAttribute&&(this.attributes=[].concat(Object(dt["a"])(this.attributes),[this.newAttribute]),this.newAttribute=null)},removeAttribute:function(t){this.attributes=this.attributes.filter((function(e){return e.id!==t}))},setCrewGroup:function(t){this.crewGroup=Object(ct["a"])({},t),this.showCrewGroups=!1},setCrew:function(t){this.crew=Object(ct["a"])({},t),this.showCrews=!1},setTariff:function(t){this.tariff=Object(ct["a"])({},t),this.showTariffs=!1},setOrderState:function(t){this.orderState=Object(ct["a"])({},t),this.showOrderStates=!1},setClientNumber:function(t){if(8!==t.keyCode){var e=t.target.value.split("");1!==e.length&&5!==e.length&&9!==e.length&&12!==e.length||e.push("-"),this.clientNumber=e.join("")}else this.clientNumber=""},setFormattedDate:function(t){if(8!==t.keyCode){var e=t.target.value.split("");2!==e.length&&5!==e.length||e.push("/"),this.timestamp.date=e.join("")}else this.timestamp.date=""},submit:function(){var t=["clientNumber","clientName","clientGroup",["origin","address"],["stops","address"],["destination","address"],["crewGroup","id"],["crew","id"],"serveTime",["tariff","id"],["orderState","id"],["timestamp","minutes","date"],["travelCost","total"]];if(this.validateFields(t),!Object.keys(this.validationErrors).length){var e={comment:this.orderComment,id:Math.floor(1e5*Math.random()),state_id:this.orderState.id,state_kind:this.orderState.kind,source:this.origin.address,source_lat:this.origin.lat,source_lon:this.origin.lon,destination:this.destination.address,destination_lat:this.destination.lat,destination_lon:this.destination.lon,stops:Object(dt["a"])(this.stops),customer:this.clientName,passanger:this.clientName,crew_id:this.crew.id,order_crew_group_id:this.crewGroup.id,is_prior:this.preOrder,auto_search_driver:this.autoMatch,name:this.clientName,phone:this.clientNumber,save_client:this.saveClientName,tariff_id:this.tariff.id,hourly_payment:this.hourlyPayment,two_way_ride:this.twoWayRide,attributes:[].concat(Object(dt["a"])(this.attributes),[this.newAttribute]).filter((function(t){return null!==t})),total_cost:this.travelCost.total,cashless_sum:this.travelCost.card,cash_sum:this.travelCost.cash,timestamp:this.timestamp};this.$emit("create-order",e)}},getRandomCoord:function(){return+(40+20*Math.random()).toFixed(6)},validateFields:function(t){var e=this;this.validationErrors={};var i,s=Object(lt["a"])(t);try{for(s.s();!(i=s.n()).done;){var r=i.value;Array.isArray(r)?function(){var t=Object(nt["a"])(r),i=t[0],s=t.slice(1);if(Array.isArray(e[i])&&e[i].length)e[i].forEach((function(t,r){var a,o=Object(lt["a"])(s);try{for(o.s();!(a=o.n()).done;){var n=a.value;console.log(e[i][r][n]),e[i][r][n]||(e.validationErrors[i]&&e.validationErrors[i][r]?e.validationErrors[i][r]=[].concat(Object(dt["a"])(e.validationErrors[i][r]),[Object(ot["a"])({},n,!0)]):(e.validationErrors[i]=[],e.validationErrors[i][r]=Object(ot["a"])({},n,!0)))}}catch(l){o.e(l)}finally{o.f()}}));else if(!Array.isArray(e[i])){var a,o=Object(lt["a"])(s);try{for(o.s();!(a=o.n()).done;){var n=a.value;e[i][n]||(e.validationErrors[i]=Object(ct["a"])(Object(ct["a"])({},e.validationErrors[i]),{},Object(ot["a"])({},n,!0)))}}catch(l){o.e(l)}finally{o.f()}}}():this[r]||(this.validationErrors[r]=!0)}}catch(a){s.e(a)}finally{s.f()}}}},Et=St,Gt=(i("7f60"),Object(o["a"])(Et,rt,at,!1,null,"6768e592",null)),jt=Gt.exports,$t={components:{simplebar:B["a"],OrderMin:z,StatusSettings:st,CreateOrder:jt},computed:{orders:function(){return this.$store.state.orders},orderGroupFilters:function(){return this.$store.state.orderDetails.crewGroups},orderCrewFilters:function(){return this.$store.state.orderDetails.crews},orderStatusFilters:function(){return this.$store.state.orderDetails.status},orderStatuses:function(){return this.$store.state.orderDetails.orderStatuses}},data:function(){return{numberOfOrders:0,settings:!1,showCreateOrder:!1,orderIdWaitingForChange:null,showFilters:!1,showGroups:!1,showCrews:!1,showStatus:!1,selectedGroupFilterId:1,selectedCrewFilterId:1,selectedStatusFilterId:1,viewFilters:{groupId:null,crewId:null,statusId:null},filterDate:""}},methods:{toggleSettings:function(t){this.orderIdWaitingForChange===t?(this.settings=!1,this.orderIdWaitingForChange=null):(this.orderIdWaitingForChange=t,this.settings=!0)},toggleCreateOrder:function(t){t!==this.createOrder&&(this.settings=!1,this.showCreateOrder=t)},toggleFilters:function(){this.showStatus=!1,this.showFilters=!this.showFilters},toggleStatus:function(){this.showFilters=!1,this.showStatus=!this.showStatus},updateStatus:function(t){this.$store.dispatch("updateStatus",{order_id:this.orderIdWaitingForChange,status_id:t}),this.settings=!1,this.orderIdWaitingForChange=null},createOrder:function(t){this.$store.dispatch("createOrder",t),this.showCreateOrder=!1},selectGroupFilter:function(t){this.selectedGroupFilterId=t,this.showGroups=!1},selectCrewFilter:function(t){this.selectedCrewFilterId=t,this.showCrews=!1},setFilters:function(){this.viewFilters={groupId:this.selectedGroupFilterId,crewId:this.selectedCrewFilterId,statusId:this.selectedStatusFilterId},this.showFilters=!1},setStatusFilter:function(t){this.selectedStatusFilterId=t,this.showStatus=!1},cancelFilters:function(){this.viewFilters={groupId:null,crewId:null,statusId:null},this.showFilters=!1},setFormattedDate:function(t){if(8!==t.keyCode){var e=t.target.value.split("");2!==e.length&&5!==e.length||e.push("/"),this.filterDate=e.join("")}else this.filterDate=""}}},At=$t,Mt=(i("2e1b"),Object(o["a"])(At,R,T,!1,null,"3ade0d60",null)),Pt=Mt.exports,Rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"whole-container"},[s("div",{staticClass:"container-manage"},[s("div",{staticClass:"controls"},[s("div",{staticClass:"control filters"},[s("div",{staticClass:"control-name",on:{click:t.toggleStatusFilter}},[t._v("Водитель")]),s("img",{staticClass:"dropdown-icon",attrs:{src:i("6505")}}),t.showStatusFilters?s("div",{staticClass:"filter-dropdown"},t._l(t.statusFilters,(function(e){return s("div",{key:e.id,staticClass:"dropdown-item",class:{selected:e.id===t.selectedStatusFilterId},on:{click:function(i){return t.selectStatusFilter(e.id)}}},[s("p",{staticClass:"filter-text"},[t._v(t._s(e.title))])])})),0):t._e()]),s("div",{staticClass:"control currents"},[s("div",{staticClass:"control-name",on:{click:t.toggleGroupFilter}},[t._v(t._s(t.groupFilters.find((function(e){return e.id===t.selectedGroupFilterId})).title))]),s("img",{staticClass:"dropdown-icon",attrs:{src:i("6505")}}),t.showGroupFilters?s("div",{staticClass:"filter-dropdown"},t._l(t.groupFilters,(function(e){return s("div",{key:e.id,staticClass:"dropdown-item",class:{selected:e.id===t.selectedGroupFilterId},on:{click:function(i){return t.selectGroupFilter(e.id)}}},[s("p",{staticClass:"filter-text"},[t._v(t._s(e.title))])])})),0):t._e()]),s("div",{staticClass:"separator"})]),s("simplebar",{ref:"scroll",staticClass:"scrollable-drivers",attrs:{"data-simplebar-auto-hide":"false"}},[t._l(t.drivers,(function(e){return s("Driver",{key:e.id,attrs:{driverInfo:e},on:{"open-edit-driver":function(i){return t.toggleEditDriver(!0,e.id)},"delete-driver":function(i){return t.deleteDriver(e.id)}}})})),s("div",{staticClass:"blank-separator"})],2),s("div",{staticClass:"operations"},[s("div",{staticClass:"operations-buttons"},["director"===this.$route.name?s("div",{staticClass:"operations-button all-drivers",on:{click:function(e){return t.toggleCreateDriver(!0)}}},[t._v("+ Водитель")]):t._e(),s("div",{staticClass:"operations-button photo",on:{click:function(e){t.showPhotoReview=!t.showPhotoReview}}},[t._v("Фотоосмотр")])]),s("div",{staticClass:"driver-counter"},[t._v(t._s(this.drivers.length)+"/100")])])],1),this.showSettings?s("StatusSettings",{staticClass:"status-settings",on:{"close-settings":t.updateStatus}}):t._e(),t.showCreateDriver?s("CreateDriver",{on:{"close-create-driver":function(e){return t.toggleCreateDriver(!1)},"create-driver":t.createDriver}}):t._e(),t.showEditDriver?s("EditDriver",{attrs:{driverInfo:t.drivers.find((function(e){return e.id===t.driverIdWaitingForChange}))},on:{"close-edit-driver":function(e){return t.toggleEditDriver(!1)},"edit-driver":t.editDriver}}):t._e(),t.showPhotoReview?s("PhotoReviews"):t._e()],1)},Tt=[],Bt=(i("130f"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"driver-full-container"},[s("div",{staticClass:"driver-container"},[s("img",{staticClass:"driver-icon",attrs:{src:i("9780"),alt:""}}),s("div",{staticClass:"driver-info"},[s("div",{staticClass:"driver-name"},[t._v(t._s(this.driverInfo.name))]),s("div",{staticClass:"driver-details"},[s("div",{staticClass:"driver-id"},[t._v("№"+t._s(this.driverInfo.driver_id))]),s("div",{staticClass:"driver-phone"},[t._v(t._s(this.driverInfo.mobile_phone))])])]),s("div",{staticClass:"driver-settings",on:{click:t.toggleSettings}},[s("img",{attrs:{src:i("eadd")}})])]),this.settings&&"director"===this.$route.name?s("div",{staticClass:"settings-block",style:this.delete?{"background-color":"#fdbf5a"}:{"background-color":"#ececec"}},[this.delete?s("div",{staticClass:"delete-popup"},[s("div",{staticClass:"delete-confirm"},[t._v("Удалить водителя №"+t._s(this.driverInfo.driver_id)+"?")]),s("div",{staticClass:"delete-options"},[s("div",{staticClass:"setting-button option",on:{click:t.toggleDelete}},[t._v("Отмена")]),s("div",{staticClass:"setting-button option confirm",on:{click:function(e){return t.$emit("delete-driver")}}},[t._v("Да")])])]):s("div",{staticClass:"settings-lite"},[s("div",{staticClass:"setting-button",on:{click:function(e){return t.$emit("open-edit-driver")}}},[t._v("Изменить")]),s("div",{staticClass:"setting-button",on:{click:t.toggleDelete}},[t._v("Удалить")])])]):t._e(),this.settings&&"operator"===this.$route.name?s("div",{staticClass:"settings-block",style:this.delete?{"background-color":"#fdbf5a"}:{"background-color":"#ececec"}},[s("div",{staticClass:"settings-lite"},[s("div",{staticClass:"setting-button"},[t._v("Чат")]),s("div",{staticClass:"setting-button"},[t._v("Позвонить")]),s("div",{staticClass:"setting-button",on:{click:function(e){return t.$emit("open-edit-driver")}}},[t._v("Изменить")])])]):t._e()])}),Nt=[],Wt={props:{driverInfo:Object},data:function(){return{settings:!1,delete:!1}},methods:{toggleSettings:function(){this.settings=!this.settings,this.delete=!1},toggleDelete:function(){this.delete=!this.delete}}},Vt=Wt,Ht=(i("e203"),Object(o["a"])(Vt,Bt,Nt,!1,null,"f594fb72",null)),Lt=Ht.exports,zt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"create-driver-container"},[s("div",{staticClass:"create-driver-header"},[s("div",{staticClass:"header-control-btn",on:{click:t.returnToMain}},[s("img",{attrs:{alt:"go-back-icon",id:"go-back",src:i("6505")}}),s("p",{staticClass:"btn-text"},[t._v("Назад")])]),s("div",{staticClass:"separator"}),s("div",{staticClass:"header-control-btn",class:{active:t.showBalance}},[s("p",{staticClass:"btn-text",on:{click:t.toggleShowBalance}},[t._v("Баланс")]),s("img",{attrs:{alt:"drop-icon",id:"drop",src:i("6505")}}),t.showBalance?s("div",{staticClass:"balance-dropdown"},[s("div",{staticClass:"dropdown-section top"},[s("div",{staticClass:"action-select"},[s("p",{staticClass:"select-text",on:{click:t.toggleActionSelect}},[t._v(t._s("charge"===t.balanceAction?"Списать":"fund"===t.balanceAction?"Пополнить":""))]),s("img",{attrs:{alt:"drop-icon",id:"select-drop",src:i("6505")}}),t.showActionSelect?s("div",{staticClass:"select-dropdown"},["charge"===t.balanceAction?s("div",[s("div",{staticClass:"select-item active",on:{click:function(e){return t.selectAction("charge")}}},[s("p",{staticClass:"select-text"},[t._v("Списать")])]),s("div",{staticClass:"select-item",on:{click:function(e){return t.selectAction("fund")}}},[s("p",{staticClass:"select-text"},[t._v("Пополнить")])])]):"fund"===t.balanceAction?s("div",[s("div",{staticClass:"select-item active",on:{click:function(e){return t.selectAction("fund")}}},[s("p",{staticClass:"select-text"},[t._v("Пополнить")])]),s("div",{staticClass:"select-item",on:{click:function(e){return t.selectAction("charge")}}},[s("p",{staticClass:"select-text"},[t._v("Списать")])])]):t._e()]):t._e()]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.actionValue,expression:"actionValue"}],staticClass:"dropdown-input",attrs:{type:"number",placeholder:"xxxxxxx"},domProps:{value:t.actionValue},on:{input:function(e){e.target.composing||(t.actionValue=e.target.value)}}})]),s("div",{staticClass:"dropdown-section bottom"},[s("button",{staticClass:"dropdown-btn primary",on:{click:t.setActionValue}},[t._v("Подтвердить")]),s("button",{staticClass:"dropdown-btn",on:{click:t.cancelBalanceAction}},[t._v("Отменить")])])]):t._e()])]),"main"===t.currentForm?s("div",{staticClass:"create-driver-body"},[s("p",{staticClass:"form-title primary"},[t._v("Добавить водителя")]),s("div",{staticClass:"form-field"},[s("label",{staticClass:"field-label",attrs:{for:"name"}},[t._v("Ф.И.О")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"field-input",class:{invalid:t.validationErrors.name},attrs:{name:"name",type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),s("div",{staticClass:"form-field"},[s("label",{staticClass:"field-label",attrs:{for:"driver_id"}},[t._v("ИД водителя")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.driver_id,expression:"driver_id"}],staticClass:"field-input",class:{invalid:t.validationErrors.driver_id},attrs:{name:"driver_id",type:"text"},domProps:{value:t.driver_id},on:{input:function(e){e.target.composing||(t.driver_id=e.target.value)}}})]),s("div",{staticClass:"form-field"},[s("label",{staticClass:"field-label",attrs:{for:"name_for_taxophone"}},[t._v("Позывной")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.name_for_taxophone,expression:"name_for_taxophone"}],staticClass:"field-input",class:{invalid:t.validationErrors.name_for_taxophone},attrs:{name:"name_for_taxophone",type:"text"},domProps:{value:t.name_for_taxophone},on:{input:function(e){e.target.composing||(t.name_for_taxophone=e.target.value)}}})]),s("div",{staticClass:"form-field"},[s("label",{staticClass:"field-label",attrs:{for:"driver_phone"}},[t._v("Телефон")]),s("input",{staticClass:"field-input",class:{invalid:t.validationErrors.driver_phone},attrs:{name:"driver_phone",type:"text",minlength:"15",maxlength:"15"},domProps:{value:t.driver_phone},on:{keydown:t.setDriverPhone}})]),s("div",{staticClass:"form-field"},[s("label",{staticClass:"field-label",attrs:{for:"password"}},[t._v("Пароль")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"field-input",class:{invalid:t.validationErrors.password},attrs:{name:"password",type:"text"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),s("div",{staticClass:"form-field"},[s("label",{staticClass:"field-label"},[t._v("Автомобиль")]),s("button",{staticClass:"field-input",class:{invalid:t.validationErrors.driver_auto},attrs:{type:"text"},on:{click:function(e){t.currentForm="sub"}}},[t._v("Добавить")])]),s("div",{staticClass:"form-field large"},[s("label",{staticClass:"field-label",attrs:{for:"comment"}},[t._v("Комментарии")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],staticClass:"field-input",attrs:{name:"comment",type:"text"},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}})])]):"sub"===t.currentForm?s("div",{staticClass:"create-driver-body"},[s("p",{staticClass:"form-title primary"},[t._v("Выбор автомобиля")]),s("div",{staticClass:"form-field"},[s("label",{staticClass:"field-label"},[t._v("Марка")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.driver_auto.auto_model,expression:"driver_auto.auto_model"}],staticClass:"field-input",class:{invalid:t.validationErrors.driver_auto&&t.validationErrors.driver_auto.auto_model},attrs:{type:"text"},domProps:{value:t.driver_auto.auto_model},on:{input:function(e){e.target.composing||t.$set(t.driver_auto,"auto_model",e.target.value)}}})]),s("div",{staticClass:"form-field"},[s("label",{staticClass:"field-label"},[t._v("Цвет")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.driver_auto.auto_color,expression:"driver_auto.auto_color"}],staticClass:"field-input",class:{invalid:t.validationErrors.driver_auto&&t.validationErrors.driver_auto.auto_color},attrs:{type:"text"},domProps:{value:t.driver_auto.auto_color},on:{input:function(e){e.target.composing||t.$set(t.driver_auto,"auto_color",e.target.value)}}})]),s("div",{staticClass:"form-field"},[s("label",{staticClass:"field-label"},[t._v("Номер")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.driver_auto.auto_number,expression:"driver_auto.auto_number"}],staticClass:"field-input",class:{invalid:t.validationErrors.driver_auto&&t.validationErrors.driver_auto.auto_number},attrs:{type:"text"},domProps:{value:t.driver_auto.auto_number},on:{input:function(e){e.target.composing||t.$set(t.driver_auto,"auto_number",e.target.value)}}})]),s("div",{staticClass:"attributes-section"},[s("p",{staticClass:"form-title"},[t._v("Атрибуты")]),s("div",{staticClass:"attributes-container"},t._l(t.autoAttributes,(function(e){return s("div",{key:e.id,staticClass:"attribute-wrapper",on:{click:function(i){return t.toggleAutoAttribute(e.id)}}},[s("Checkbox",{attrs:{checked:!!t.driver_auto.auto_attributes.find((function(t){return t.id===e.id}))}}),s("p",{staticClass:"attribute-text"},[t._v(t._s(e.title))])],1)})),0)])]):t._e(),s("div",{staticClass:"create-driver-footer"},[s("button",{staticClass:"footer-btn primary",on:{click:t.submit}},[t._v("Сохранить")]),s("button",{staticClass:"footer-btn",on:{click:function(e){return t.$emit("close-create-driver")}}},[t._v("Отменить")])])])},Zt=[],qt=(i("b0c0"),i("53ca")),Jt={name:"CreateDriver",components:{Checkbox:kt},data:function(){return{currentForm:"main",showBalance:!1,showActionSelect:!1,balanceAction:"charge",balance:0,actionValue:null,name:"",driver_id:"",name_for_taxophone:"",driver_phone:"",comment:"",password:"",driver_auto:{auto_model:null,auto_color:null,auto_number:null,auto_attributes:[]},validationErrors:{}}},computed:{autoAttributes:function(){return this.$store.state.driverAutoDetails.attributes}},methods:{returnToMain:function(){"main"===this.currentForm&&this.$emit("close-create-driver"),this.currentForm="main"},toggleShowBalance:function(){this.showBalance=!this.showBalance,this.balanceAction="charge",this.actionValue=null},toggleActionSelect:function(){console.log("eeee"),this.showActionSelect=!0},selectAction:function(t){this.balanceAction=t,this.showActionSelect=!1},setActionValue:function(){this.actionValue&&(this.showBalance=!1)},cancelBalanceAction:function(){this.balanceAction="charge",this.actionValue=null,this.showBalance=!1},setDriverPhone:function(t){if(8!==t.keyCode){var e=t.target.value.split("");1!==e.length&&5!==e.length&&9!==e.length&&12!==e.length||e.push("-"),this.driver_phone=e.join("")}else this.driver_phone=""},toggleAutoAttribute:function(t){this.driver_auto.auto_attributes.find((function(e){return e.id===t}))?this.driver_auto.auto_attributes=this.driver_auto.auto_attributes.filter((function(e){return e.id!==t})):this.driver_auto.auto_attributes=[].concat(Object(dt["a"])(this.driver_auto.auto_attributes),[Object(ct["a"])({},this.autoAttributes.find((function(e){return e.id===t})))])},submit:function(){var t=["name","driver_id","name_for_taxophone","driver_phone","password",["driver_auto","auto_model","auto_color","auto_number"]];if(this.validateFields(t),!Object.keys(this.validationErrors).length){var e={name:this.name,driver_id:this.driver_id,name_for_taxophone:this.name_for_taxophone,phones:[{phone:this.driver_phone,is_default:!0,use_for_call:!0}],comment:this.comment,password:this.password,auto_model:this.driver_auto.auto_model,auto_color:this.driver_auto.auto_color,auto_number:this.driver_auto.auto_number,auto_attributes:this.driver_auto.auto_attributes};this.$emit("create-driver",e)}},validateFields:function(t){this.validationErrors={};var e,i=Object(lt["a"])(t);try{for(i.s();!(e=i.n()).done;){var s=e.value;if("string"===typeof s)this[s]||(this.validationErrors[s]=!0);else if("object"===Object(qt["a"])(s)&&Array.isArray(s)){var r,a=Object(nt["a"])(s),o=a[0],n=a.slice(1),l=Object(lt["a"])(n);try{for(l.s();!(r=l.n()).done;){var c=r.value;this[o][c]||(this.validationErrors[o]?this.validationErrors[o][c]=!0:this.validationErrors[o]=Object(ot["a"])({},c,!0))}}catch(d){l.e(d)}finally{l.f()}}}}catch(d){i.e(d)}finally{i.f()}}}},Ut=Jt,Yt=(i("efc4"),Object(o["a"])(Ut,zt,Zt,!1,null,"edef1068",null)),Kt=Yt.exports,Qt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"edit-driver-container"},[s("div",{staticClass:"edit-driver-header"},[s("div",{staticClass:"header-control-btn",on:{click:t.returnToMain}},[s("img",{attrs:{alt:"go-back-icon",id:"go-back",src:i("6505")}}),s("p",{staticClass:"btn-text"},[t._v("Назад")])]),s("div",{staticClass:"separator"}),s("div",{staticClass:"header-control-btn",class:{active:t.showBalance}},[s("p",{staticClass:"btn-text",on:{click:t.toggleShowBalance}},[t._v("Баланс")]),s("img",{attrs:{alt:"drop-icon",id:"drop",src:i("6505")}}),t.showBalance?s("div",{staticClass:"balance-dropdown"},[s("div",{staticClass:"dropdown-section top"},[s("div",{staticClass:"action-select"},[s("p",{staticClass:"select-text",on:{click:t.toggleActionSelect}},[t._v(t._s("charge"===t.balanceAction?"Списать":"fund"===t.balanceAction?"Пополнить":""))]),s("img",{attrs:{alt:"drop-icon",id:"select-drop",src:i("6505")}}),t.showActionSelect?s("div",{staticClass:"select-dropdown"},["charge"===t.balanceAction?s("div",[s("div",{staticClass:"select-item active",on:{click:function(e){return t.selectAction("charge")}}},[s("p",{staticClass:"select-text"},[t._v("Списать")])]),s("div",{staticClass:"select-item",on:{click:function(e){return t.selectAction("fund")}}},[s("p",{staticClass:"select-text"},[t._v("Пополнить")])])]):"fund"===t.balanceAction?s("div",[s("div",{staticClass:"select-item active",on:{click:function(e){return t.selectAction("fund")}}},[s("p",{staticClass:"select-text"},[t._v("Пополнить")])]),s("div",{staticClass:"select-item",on:{click:function(e){return t.selectAction("charge")}}},[s("p",{staticClass:"select-text"},[t._v("Списать")])])]):t._e()]):t._e()]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.actionValue,expression:"actionValue"}],staticClass:"dropdown-input",attrs:{type:"number",placeholder:"xxxxxxx"},domProps:{value:t.actionValue},on:{input:function(e){e.target.composing||(t.actionValue=e.target.value)}}})]),s("div",{staticClass:"dropdown-section bottom"},[s("button",{staticClass:"dropdown-btn primary",on:{click:t.acceptBalanceAction}},[t._v("Подтвердить")]),s("button",{staticClass:"dropdown-btn",on:{click:t.cancelBalanceAction}},[t._v("Отменить")])])]):t._e()])]),"overview"===t.currentView?s("div",{staticClass:"edit-driver-body"},[s("div",{staticClass:"review-item"},[s("p",{staticClass:"item-title"},[t._v("Ф.И.О")]),s("p",{staticClass:"item-value"},[t._v(t._s(t.name))])]),t._m(0),s("div",{staticClass:"review-item"},[s("p",{staticClass:"item-title"},[t._v("ИД водителя")]),s("p",{staticClass:"item-value"},[t._v(t._s(t.driver_id))])]),s("div",{staticClass:"review-item"},[s("p",{staticClass:"item-title"},[t._v("Позывной")]),s("p",{staticClass:"item-value"},[t._v(t._s(t.name_for_taxophone))])]),s("div",{staticClass:"review-item"},[s("p",{staticClass:"item-title"},[t._v("Телефон")]),s("p",{staticClass:"item-value"},[t._v(t._s(t.phones[0].phone))])]),s("div",{staticClass:"review-item"},[s("p",{staticClass:"item-title"},[t._v("Баланс")]),s("p",{staticClass:"item-value"},[t._v(t._s(t.balance))])]),s("div",{staticClass:"review-item"},[s("p",{staticClass:"item-title"},[t._v("Автомобиль")]),s("p",{staticClass:"item-value"},[t._v(t._s(t.auto_color)+" "+t._s(t.auto_model)+" "+t._s(t.auto_number)+" хххххххххххххххххххххх хххххххххххххххххххххх")])]),s("div",{staticClass:"review-item"},[s("p",{staticClass:"item-title"},[t._v("Атрибуты")]),s("p",{staticClass:"item-value"},t._l(t.auto_attributes,(function(e){return s("span",{key:"attr_"+e.id},[t._v(t._s(e.title)+" ")])})),0)])]):t._e(),"editMain"===t.currentView?s("div",{staticClass:"edit-driver-body"},[s("p",{staticClass:"form-title primary"},[t._v("Изменить водителя")]),s("div",{staticClass:"form-field"},[s("label",{staticClass:"field-label",attrs:{for:"name"}},[t._v("Ф.И.О")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"field-input",class:{invalid:t.validationErrors.name},attrs:{name:"name",type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),s("div",{staticClass:"form-field"},[s("label",{staticClass:"field-label",attrs:{for:"driver_id"}},[t._v("ИД водителя")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.driver_id,expression:"driver_id"}],staticClass:"field-input",class:{invalid:t.validationErrors.driver_id},attrs:{name:"driver_id",type:"text"},domProps:{value:t.driver_id},on:{input:function(e){e.target.composing||(t.driver_id=e.target.value)}}})]),s("div",{staticClass:"form-field"},[s("label",{staticClass:"field-label",attrs:{for:"name_for_taxophone"}},[t._v("Позывной")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.name_for_taxophone,expression:"name_for_taxophone"}],staticClass:"field-input",class:{invalid:t.validationErrors.name_for_taxophone},attrs:{name:"name_for_taxophone",type:"text"},domProps:{value:t.name_for_taxophone},on:{input:function(e){e.target.composing||(t.name_for_taxophone=e.target.value)}}})]),s("div",{staticClass:"form-field"},[s("label",{staticClass:"field-label",attrs:{for:"driver_phone"}},[t._v("Телефон")]),s("input",{staticClass:"field-input",class:{invalid:t.validationErrors.driver_phone},attrs:{name:"driver_phone",type:"text",minlength:"15",maxlength:"15"},domProps:{value:t.phones[0].phone},on:{keyup:t.setDriverPhone}})]),s("div",{staticClass:"form-field"},[s("label",{staticClass:"field-label",attrs:{for:"password"}},[t._v("Пароль")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"field-input",class:{invalid:t.validationErrors.password},attrs:{name:"password",type:"text"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),s("div",{staticClass:"form-field"},[s("label",{staticClass:"field-label"},[t._v("Автомобиль")]),s("button",{staticClass:"field-input",class:{invalid:t.validationErrors.auto_modell||t.validationErrors.auto_color||t.validationErrors.auto_number},attrs:{type:"text"},on:{click:function(e){t.currentView="editSub"}}},[t._v("Изменить")])]),s("div",{staticClass:"form-field large"},[s("label",{staticClass:"field-label",attrs:{for:"comment"}},[t._v("Комментарии")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],staticClass:"field-input",attrs:{name:"comment",type:"text"},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}})])]):"editSub"===t.currentView?s("div",{staticClass:"edit-driver-body"},[s("p",{staticClass:"form-title primary"},[t._v("Выбор автомобиля")]),s("div",{staticClass:"form-field"},[s("label",{staticClass:"field-label"},[t._v("Марка")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.auto_model,expression:"auto_model"}],staticClass:"field-input",class:{invalid:t.validationErrors.auto_model},attrs:{name:"auto_model",type:"text"},domProps:{value:t.auto_model},on:{input:function(e){e.target.composing||(t.auto_model=e.target.value)}}})]),s("div",{staticClass:"form-field"},[s("label",{staticClass:"field-label"},[t._v("Цвет")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.auto_color,expression:"auto_color"}],staticClass:"field-input",class:{invalid:t.validationErrors.auto_color},attrs:{name:"auto_color",type:"text"},domProps:{value:t.auto_color},on:{input:function(e){e.target.composing||(t.auto_color=e.target.value)}}})]),s("div",{staticClass:"form-field"},[s("label",{staticClass:"field-label"},[t._v("Номер")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.auto_number,expression:"auto_number"}],staticClass:"field-input",class:{invalid:t.validationErrors.auto_number},attrs:{name:"auto_number",type:"text"},domProps:{value:t.auto_number},on:{input:function(e){e.target.composing||(t.auto_number=e.target.value)}}})]),s("div",{staticClass:"attributes-section"},[s("p",{staticClass:"form-title"},[t._v("Атрибуты")]),s("div",{staticClass:"attributes-container"},t._l(t.autoAttributes,(function(e){return s("div",{key:e.id,staticClass:"attribute-wrapper",on:{click:function(i){return t.toggleAutoAttribute(e.id)}}},[s("Checkbox",{attrs:{checked:!!t.auto_attributes.find((function(t){return t.id===e.id}))}}),s("p",{staticClass:"attribute-text"},[t._v(t._s(e.title))])],1)})),0)])]):t._e(),s("div",{staticClass:"edit-driver-footer"},["overview"===t.currentView?s("button",{staticClass:"footer-btn primary",on:{click:function(e){t.currentView="editMain"}}},[t._v("Редактировать")]):"overview"!==t.currentView?s("button",{staticClass:"footer-btn primary",on:{click:t.submitChanges}},[t._v("Сохранить")]):t._e(),s("button",{staticClass:"footer-btn",on:{click:t.returnToMain}},[t._v("Отменить")])])])},Xt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"review-item"},[i("p",{staticClass:"item-title"},[t._v("Статус")]),i("p",{staticClass:"item-value"},[t._v("Не работает")])])}],te=(i("96cf"),i("1da1")),ee={name:"EditDriver",components:{Checkbox:kt},computed:{autoAttributes:function(){return this.$store.state.driverAutoDetails.attributes}},props:["driverInfo"],data:function(){return{currentView:"overview",showBalance:!1,showActionSelect:!1,actionValue:null,balanceAction:"charge",id:this.driverInfo.id,name:this.driverInfo.name,balance:this.driverInfo.balance,driver_id:this.driverInfo.driver_id,name_for_taxophone:this.driverInfo.name_for_taxophone,phones:JSON.parse(JSON.stringify(this.driverInfo.phones)),comment:this.driverInfo.comment,password:this.driverInfo.password,auto_model:this.driverInfo.auto_model,auto_color:this.driverInfo.auto_color,auto_number:this.driverInfo.auto_number,auto_attributes:Object(dt["a"])(this.driverInfo.auto_attributes),validationErrors:{}}},methods:{returnToMain:function(){"editSub"!==this.currentView?"editMain"!==this.currentView?"overview"!==this.currentView||this.$emit("close-edit-driver"):this.currentView="overview":this.currentView="editMain"},selectAction:function(t){this.balanceAction=t,this.showActionSelect=!1},acceptBalanceAction:function(){if(console.log("action accepted, type: ",this.balanceAction),this.actionValue){switch(this.balanceAction){case"charge":this.balance-=this.actionValue;break;case"fund":console.log(this.actionValue),this.balance+=this.actionValue;break}this.balanceAction="charge",this.actionValue=null,this.showBalance=!1}},cancelBalanceAction:function(){console.log("action cancelled"),this.balanceAction="charge",this.actionValue=null,this.showBalance=!1},setDriverPhone:function(t){if(8!==t.keyCode){var e=t.target.value.split("");1!==e.length&&5!==e.length&&9!==e.length&&12!==e.length||e.push("-"),this.phones[0].phone=e.join("")}else this.phones[0].phone=""},submitChanges:function(){var t=this;return Object(te["a"])(regeneratorRuntime.mark((function e(){var i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=["name","driver_id","name_for_taxophone","password","auto_model","auto_color","auto_number"],t.validateFields(i),Object.keys(t.validationErrors).length||(s={id:t.id,name:t.name,driver_id:t.driver_id,name_for_taxophone:t.name_for_taxophone,phones:Object(dt["a"])(t.phones),comment:t.comment,password:t.password,auto_model:t.auto_model,auto_color:t.auto_color,auto_number:t.auto_number,auto_attributes:t.auto_attributes},t.$emit("edit-driver",s),t.toggleCurrentView("overview"));case 3:case"end":return e.stop()}}),e)})))()},validateFields:function(t){console.log("in validation block"),this.validationErrors={};var e,i=Object(lt["a"])(t);try{for(i.s();!(e=i.n()).done;){var s=e.value;if("string"===typeof s)this[s]||(this.validationErrors[s]=!0);else if("object"===Object(qt["a"])(s)&&Array.isArray(s)){var r,a=Object(nt["a"])(s),o=a[0],n=a.slice(1),l=Object(lt["a"])(n);try{for(l.s();!(r=l.n()).done;){var c=r.value;this[o][c]||(this.validationErrors[o]?this.validationErrors[o][c]=!0:this.validationErrors[o]=Object(ot["a"])({},c,!0))}}catch(d){l.e(d)}finally{l.f()}}}}catch(d){i.e(d)}finally{i.f()}},toggleActionSelect:function(){this.showActionSelect=!this.showActionSelect},toggleShowBalance:function(){console.log(this.showBalance),this.showBalance=!this.showBalance,console.log(this.showBalance)},toggleCurrentView:function(t){this.currentView=t},updateFieldToEdit:function(t){this[t.target.name]=t.target.value},toggleAutoAttribute:function(t){this.auto_attributes.find((function(e){return e.id===t}))?this.auto_attributes=this.auto_attributes.filter((function(e){return e.id!==t})):this.auto_attributes=[].concat(Object(dt["a"])(this.auto_attributes),[Object(ct["a"])({},this.autoAttributes.find((function(e){return e.id===t})))])}}},ie=ee,se=(i("f395"),Object(o["a"])(ie,Qt,Xt,!1,null,"35290e64",null)),re=se.exports,ae=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main-reviews-container"},[s("div",{staticClass:"photo-reviews-conteiner"},[s("div",{staticClass:"reviews-header"},[s("div",{staticClass:"header-top"},[t._l(t.statusFilters,(function(e){return s("div",{key:e.id,staticClass:"top-filter-btn",class:{selected:t.statusFilterId===e.id},on:{click:function(i){t.statusFilterId=e.id}}},[s("p",{staticClass:"filter-btn-text"},[t._v(t._s(e.title))])])})),s("div",{staticClass:"separator left"}),s("div",{staticClass:"separator right"})],2),s("div",{staticClass:"header-bottom"},[s("div",{staticClass:"bottom-filter-btn"},[s("p",{staticClass:"filter-btn-text sm",on:{click:function(e){t.showSortByFilters=!t.showSortByFilters}}},[t._v(t._s(t.sortByFilters.find((function(e){return e.id===t.sortByFilterId})).title))]),s("img",{attrs:{src:i("6505"),alt:"drop-icon",id:"drop"}}),t.showSortByFilters?s("div",{staticClass:"dropdown"},t._l(t.sortByFilters,(function(e){return s("div",{key:e.id,staticClass:"dropdown-item",on:{click:function(i){return t.selectSortByFilter(e.id)}}},[s("p",{staticClass:"drop-item-text"},[t._v(t._s(e.title))])])})),0):t._e()]),s("div",{staticClass:"separator"}),s("div",{staticClass:"bottom-filter-btn"},[s("p",{staticClass:"filter-btn-text sm",on:{click:function(e){t.showDateFilters=!t.showDateFilters}}},[t._v("Дата")]),s("img",{attrs:{src:i("6505"),alt:"drop-icon",id:"drop"}}),t.showDateFilters?s("div",{staticClass:"dropdown"},t._l(t.dateFilters,(function(e){return s("div",{key:e.id,staticClass:"dropdown-item",on:{click:function(i){return t.selectDateFilter(e.id)}}},[s("p",{staticClass:"drop-item-text",class:{selected:e.id===t.dateFilterId}},[t._v(t._s(e.title))])])})),0):t._e()])])]),s("simplebar",{ref:"scroll",staticClass:"scrollable-reviews",attrs:{"data-simplebar-auto-hide":"false"}},t._l(t.reviews,(function(e){return s("ReviewMin",{key:e.id,attrs:{reviewInfo:e,showMore:e.id===t.showMoreReviewId},on:{"toggle-options":function(i){return t.toggleReviewOptions(i,e.id)},"update-comments":function(i){return t.updateComments(i,e.id)}}})})),1),s("div",{staticClass:"reviews-footer"})],1),t.showReviewOptions?s("div",{staticClass:"options-dropdown",style:{top:t.reviewOptionsTopStyleProp+"px"}},[s("p",{staticClass:"dropdown-item",on:{click:function(e){return t.openReview(t.reviewIdWaitingForChange)}}},[t._v("Просмотр")]),s("p",{staticClass:"dropdown-item",on:{click:function(e){return t.toggleMore(t.reviewIdWaitingForChange)}}},[t._v("Подробности")]),s("p",{staticClass:"dropdown-item",on:{click:function(e){return t.deleteReview(t.reviewIdWaitingForChange)}}},[t._v("Удалить")])]):t._e(),t.showReview?s("ReviewWindow",{attrs:{review:t.reviews.find((function(e){return e.id===t.reviewIdWaitingForChange}))},on:{"close-review":t.closeReview,"update-comments":function(e){return t.updateComments(e,t.reviewIdWaitingForChange)}}}):t._e()],1)},oe=[],ne=(i("d81d"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"review-container"},[s("p",{staticClass:"review-number"},[t._v("№"+t._s(t.reviewInfo.id))]),s("p",{staticClass:"auto-info"},[t._v(t._s(t.reviewInfo.auto_model)+" ("+t._s(t.reviewInfo.auto_color)+") "+t._s(t.reviewInfo.auto_number))]),s("p",{staticClass:"time-info"},[s("span",{attrs:{id:"label"}},[t._v("Начало:")]),s("span",{attrs:{id:"time"}},[s("img",{attrs:{src:i("8611"),alt:"time-icon",id:"clock"}}),s("p",[t._v(t._s(t.reviewInfo.startDate.time))])]),s("span",{attrs:{id:"date"}},[s("img",{attrs:{src:i("21c8"),alt:"time-icon",id:"calender"}}),s("p",[t._v(t._s(t.reviewInfo.startDate.date))])])]),s("p",{staticClass:"time-info"},[s("span",{attrs:{id:"label"}},[t._v("Получение:")]),s("span",{attrs:{id:"time"}},[s("img",{attrs:{src:i("8611"),alt:"time-icon",id:"clock"}}),s("p",[t._v(t._s(t.reviewInfo.recieveDate.time))])]),s("span",{attrs:{id:"date"}},[s("img",{attrs:{src:i("21c8"),alt:"time-icon",id:"calender"}}),s("p",[t._v(t._s(t.reviewInfo.recieveDate.date))])])]),t.showMore?s("div",{staticClass:"review-comments"},[s("p",[t._v("Комментарии:")]),s("p",[t._v(t._s(t.reviewInfo.comments))])]):t._e(),s("img",{attrs:{src:i("eadd"),alt:"more-icon",id:"more"},on:{click:function(e){return t.$emit("toggle-options",e)}}}),s("div",{staticClass:"footer-line"})])}),le=[],ce={name:"ReviewMin",props:{reviewInfo:Object,showMore:Boolean}},de=ce,ue=(i("9fbc"),Object(o["a"])(de,ne,le,!1,null,"7cc5eb9f",null)),pe=ue.exports,ve=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"review-container"},[s("div",{staticClass:"review-header"},[s("p",{staticClass:"header-text"},[t._v(t._s(t.fullAutoInfo))])]),s("div",{staticClass:"review-main"},[null!==t.selectedPhotoId?s("div",{staticClass:"photo-inspect"},[s("div",{staticClass:"inspect-container"},[s("div",{staticClass:"inspect-header"},[s("p",{staticClass:"inspect-header-text"},[t._v(t._s(t.review.photos.find((function(e){return e.id===t.selectedPhotoId})).title))])]),s("div",{staticClass:"photo-full"},[s("img",{attrs:{src:i("710a")("./"+t.review.photos.find((function(e){return e.id===t.selectedPhotoId})).src+".jpg")}})])]),s("div",{staticClass:"comments-input-wrapper"},[s("input",{staticClass:"comments-input",attrs:{type:"text"},domProps:{value:t.review.comment},on:{input:function(e){return t.$emit("update-comments",e)}}}),s("div",{staticClass:"send-btn"},[s("p",{staticClass:"btn-text",on:{click:function(e){return t.$emit("close-review")}}},[t._v("Отправить")])])])]):t._e(),s("simplebar",{staticClass:"photo-select",attrs:{"data-simplebar-auto-hide":"false"}},t._l(t.review.photos,(function(e){return s("div",{key:e.id,staticClass:"photo-preview",on:{click:function(i){t.selectedPhotoId=e.id}}},[s("div",{staticClass:"preview-header"},[s("p",{staticClass:"header-text"},[t._v(t._s(e.title))])]),s("div",{staticClass:"photo-min"},[s("img",{attrs:{src:i("710a")("./"+e.src+".jpg")}})])])})),0)],1),s("div",{staticClass:"review-footer"},[s("div",{staticClass:"footer-btn primary"},[s("p",{staticClass:"btn-text",on:{click:function(e){return t.$emit("close-review")}}},[t._v("Готово")])]),s("div",{staticClass:"footer-btn"},[s("p",{staticClass:"btn-text",on:{click:function(e){return t.$emit("close-review")}}},[t._v("Отменить")])])])])},he=[],me={name:"ReviewWindow",components:{simplebar:B["a"]},computed:{fullAutoInfo:function(){return"".concat(this.review.auto_model," (").concat(this.review.auto_color,") ").concat(this.review.auto_model," ")}},props:{review:Object},data:function(){return{selectedPhotoId:null}}},fe=me,_e=(i("4874"),Object(o["a"])(fe,ve,he,!1,null,"0f2eee09",null)),Ce=_e.exports,we={name:"PhotoReviews",components:{simplebar:B["a"],ReviewMin:pe,ReviewWindow:Ce},computed:{reviews:function(){return this.$store.state.photoReviews.reviews},statusFilters:function(){return this.$store.state.photoReviews.reviewFilters.status},sortByFilters:function(){return this.$store.state.photoReviews.reviewFilters.sortBy},dateFilters:function(){return this.$store.state.photoReviews.reviewFilters.date}},data:function(){return{statusFilterId:0,sortByFilterId:0,dateFilterId:0,showSortByFilters:!1,showDateFilters:!1,reviewIdWaitingForChange:null,reviewOptionsTopStyleProp:null,selectedReviewId:null,showReviewOptions:!1,showMoreReviewId:null,showReview:!1}},methods:{selectSortByFilter:function(t){this.sortByFilterId=t,this.showSortByFilters=!1},selectDateFilter:function(t){this.dateFilterId=t,this.showDateFilters=!1},toggleReviewOptions:function(t,e){this.showReview||(this.showReviewOptions&&null!==this.reviewIdWaitingForChange&&e===this.reviewIdWaitingForChange?(this.showMoreReviewId=null,this.showReviewOptions=!1,this.reviewIdWaitingForChange=null,this.reviewOptionsTopStyleProp=null):(this.showMoreReviewId=null,this.reviewIdWaitingForChange=e,this.reviewOptionsTopStyleProp=t.target.parentNode.getBoundingClientRect().top-document.querySelector(".main-reviews-container").getBoundingClientRect().top,this.showReviewOptions=!0))},toggleMore:function(t){this.showMoreReviewId=t},deleteReview:function(t){this.$store.dispatch("deleteReview",t)},updateComments:function(t,e){this.reviews=this.reviews.map((function(i){return i.id===e?Object(ct["a"])(Object(ct["a"])({},i),{},{comments:t.target.value}):i}))},handleScroll:function(){this.showReviewOptions=!1,this.reviewIdWaitingForChange=null,this.reviewOptionsTopStyleProp=null,this.showMoreReviewId=null},openReview:function(){this.showReviewOptions=!1,this.showMoreReviewId=null,this.showReview=!0},closeReview:function(){this.showReview=!1,this.reviewIdWaitingForChange=!1,this.showMoreReviewId=null}},mounted:function(){this.$refs.scroll.scrollElement.addEventListener("scroll",this.handleScroll),document.querySelector(".container-manage").addEventListener("resize",this.handleScroll)},beforeDestroy:function(){this.$refs.scroll.scrollElement.removeEventListener("scroll",this.handleScroll),document.querySelector(".container-manage").removeEventListener("resize",this.handleScroll)}},ge=we,be=(i("758d"),Object(o["a"])(ge,ae,oe,!1,null,"64962da0",null)),ke=be.exports,xe={components:{simplebar:B["a"],Driver:Lt,StatusSettings:st,CreateDriver:Kt,EditDriver:re,PhotoReviews:ke},computed:{drivers:function(){return this.$store.state.drivers},statusFilters:function(){return this.$store.state.driverFilters.status},groupFilters:function(){return this.$store.state.driverFilters.group}},data:function(){return{showSettings:!1,showCreateDriver:!1,showEditDriver:!1,showPhotoReview:!1,showStatusFilters:!1,showGroupFilters:!1,driverIdWaitingForChange:null,selectedStatusFilterId:0,selectedGroupFilterId:0}},methods:{deleteDriver:function(t){this.$store.dispatch("deleteDriver",t)},toggleCreateDriver:function(t){this.showEditDriver&&(this.showEditDriver=!1,this.driverIdWaitingForChange=!1),this.showCreateDriver!==t&&(this.showCreateDriver=t)},toggleEditDriver:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!1===t)return this.showEditDriver=t,void(this.driverIdWaitingForChange=i);this.showCreateDriver&&(this.showCreateDriver=!1),this.showEditDriver=!1,this.driverIdWaitingForChange=i,setImmediate((function(){e.showEditDriver=!0}))},toggleStatusFilter:function(){this.showGroupFilters=!1,this.showStatusFilters=!0},toggleGroupFilter:function(){this.showStatusFilters=!1,this.showGroupFilters=!0},selectStatusFilter:function(t){this.selectedStatusFilterId=t,this.showStatusFilters=!1},selectGroupFilter:function(t){this.selectedGroupFilterId=t,this.showGroupFilters=!1},createDriver:function(t){this.$store.dispatch("createDriver",t)},editDriver:function(t){this.$store.dispatch("editDriver",t)},handleScroll:function(){console.log("scroll")}},mounted:function(){document.querySelector(".container-manage").addEventListener("resize",(function(){return console.log("resize")}))}},ye=xe,Fe=(i("0096"),Object(o["a"])(ye,Rt,Tt,!1,null,"16227938",null)),Ie=Fe.exports,Oe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"reports-container"},[s("div",{staticClass:"reports-header"},[s("div",{staticClass:"header-top"},[s("div",{staticClass:"header-btn",class:{active:"drivers"===t.activeTab},on:{click:function(e){return t.toggleTab("drivers")}}},[s("p",{staticClass:"btn-text"},[t._v("Водители")])]),s("div",{staticClass:"separator lg left"}),s("div",{staticClass:"header-btn",class:{active:"orders"===t.activeTab},on:{click:function(e){return t.toggleTab("orders")}}},[s("p",{staticClass:"btn-text"},[t._v("Заказы")])]),s("div",{staticClass:"separator lg right"}),s("div",{staticClass:"header-btn extended",class:{active:t.showDateFilter}},[s("p",{staticClass:"btn-text",on:{click:t.toggleDateFilter}},[t._v(t._s(t.datePeriods.find((function(e){return e.id===t.currentDatePeriodId})).title))]),t.showDateFilter?s("div",{staticClass:"date-filter-controls"},[s("div",{staticClass:"filter-main"},[s("div",{staticClass:"filter-field"},[s("label",{staticClass:"filter-label"},[t._v("Период:")]),s("div",{staticClass:"filter-input extended"},[s("p",{staticClass:"filter-text",on:{click:t.togglePeriodDropdown}},[t._v(t._s(t.datePeriods.find((function(e){return e.id===t.currentDatePeriodId})).title))]),s("img",{attrs:{alt:"drop-icon",id:"drop",src:i("6505")}}),t.showPeriodDropdown?s("div",{staticClass:"dropdown-container"},t._l(t.datePeriods,(function(e){return s("div",{key:e.id,staticClass:"dropdown-item",class:{selected:e.id===t.currentDatePeriodId},on:{click:function(i){return t.selectDatePeriod(e.id)}}},[s("p",{staticClass:"item-text"},[t._v(t._s(e.title))])])})),0):t._e()])]),s("div",{staticClass:"filter-field"},[s("label",{staticClass:"filter-label",attrs:{for:"date"}},[t._v("Дата:")]),s("input",{staticClass:"filter-input",attrs:{type:"text",name:"date",placeholder:"12/05/2020",maxlength:"10"},domProps:{value:t.dateFilterInput},on:{keyup:t.setFormattedDate}})])]),s("div",{staticClass:"filter-footer"},[s("div",{staticClass:"btn primary",on:{click:t.confirmDateFilter}},[s("p",{staticClass:"btn-text"},[t._v("Подтвердить")])]),s("div",{staticClass:"btn",on:{click:t.cancelDateFilter}},[s("p",{staticClass:"btn-text"},[t._v("Отмена")])])])]):t._e()])]),"orders"===t.activeTab?s("div",{staticClass:"header-bottom"},[s("div",{staticClass:"header-btn"},[s("img",{attrs:{alt:"drop-icon",id:"drop",src:i("6505")}}),s("p",{staticClass:"btn-text",on:{click:function(e){t.showOrderGroups=!t.showOrderGroups}}},[t._v("Группа заказа")]),t.showOrderGroups?s("div",{staticClass:"dropdown-container"},t._l(t.orderGroups,(function(e){return s("div",{key:e.id,staticClass:"dropdown-item",class:{selected:e.id===t.currentOrderGroupId},on:{click:function(i){return t.selectOrderGroup(e.id)}}},[s("p",{staticClass:"item-text"},[t._v(t._s(e.title))])])})),0):t._e()]),s("div",{staticClass:"separator sm"}),s("div",{staticClass:"header-btn"},[s("img",{attrs:{alt:"drop-icon",id:"drop",src:i("6505")}}),s("p",{staticClass:"btn-text",on:{click:function(e){t.showExportGroups=!t.showExportGroups}}},[t._v("Группа вывоза")]),t.showExportGroups?s("div",{staticClass:"dropdown-container"},t._l(t.exportGroups,(function(e){return s("div",{key:e.id,staticClass:"dropdown-item",class:{selected:e.id===t.currentExportGroupId},on:{click:function(i){return t.selectExportGroup(e.id)}}},[s("p",{staticClass:"item-text"},[t._v(t._s(e.title))])])})),0):t._e()])]):"drivers"===t.activeTab?s("div",{staticClass:"header-bottom"},[s("div",{staticClass:"header-btn"},[s("img",{attrs:{alt:"drop-icon",id:"drop",src:i("6505")}}),s("p",{staticClass:"btn-text",on:{click:function(e){t.showCrewGroups=!t.showCrewGroups}}},[t._v("Группа экипажа")]),t.showCrewGroups?s("div",{staticClass:"dropdown-container"},t._l(t.crewGroups,(function(e){return s("div",{key:e.id,staticClass:"dropdown-item",class:{selected:e.id===t.currentCrewGroupId},on:{click:function(i){return t.selectCrewGroup(e.id)}}},[s("p",{staticClass:"item-text"},[t._v(t._s(e.title))])])})),0):t._e()]),s("div",{staticClass:"separator sm"}),s("div",{staticClass:"header-btn"},[s("img",{attrs:{alt:"drop-icon",id:"drop",src:i("6505")}}),s("p",{staticClass:"btn-text",on:{click:function(e){t.showCrewMembers=!t.showCrewMembers}}},[t._v("Член экипажа")]),t.showCrewMembers?s("div",{staticClass:"dropdown-container"},t._l(t.crewMembers,(function(e){return s("div",{key:e.id,staticClass:"dropdown-item",class:{selected:e.id===t.currentCrewMemberId},on:{click:function(i){return t.selectCrewMember(e.id)}}},[s("p",{staticClass:"item-text"},[t._v(t._s(e.title))])])})),0):t._e()])]):t._e()]),s("simplebar",{staticClass:"reports-body",attrs:{"data-simplebar-auto-hide":"false"}},[s("div",{staticClass:"header"},[t._v("Статистика за: "+t._s(t.dateFilter.date))]),"orders"===t.activeTab?s("div",{staticClass:"reports"},[s("div",{staticClass:"report"},[s("p",[t._v("Количество заказов")]),s("p",[t._v("0")])]),s("div",{staticClass:"report"},[s("p",[t._v("Сумма заказов")]),s("p",[t._v("0 Евро")])])]):t._e(),"drivers"===t.activeTab?s("div",{staticClass:"reports"},[s("div",{staticClass:"report"},[s("p",[t._v("Счёт бригадира")]),s("p",[t._v("0 Евро")])]),s("div",{staticClass:"report"},[s("p",[t._v("Счёт водителя")]),s("p",[t._v("0 Евро")])]),s("div",{staticClass:"report"},[s("p",[t._v("Количество заказов")]),s("p",[t._v("0")])]),s("div",{staticClass:"report"},[s("p",[t._v("Сумма заказов")]),s("p",[t._v("0 Евро")])]),s("div",{staticClass:"report"},[s("p",[t._v("Сумма прихода")]),s("p",[t._v("0 Евро")])]),s("div",{staticClass:"report"},[s("p",[t._v("Сумма расхода")]),s("p",[t._v("0 Евро")])])]):t._e()]),t._m(0)],1)},De=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"reports-footer"},[i("div",{staticClass:"btn primary"},[t._v("Скачать")])])}],Se={name:"ReportWindow",components:{simplebar:B["a"]},computed:{drivers:function(){return this.$store.state.drivers},orders:function(){return this.$store.state.orders},datePeriods:function(){return this.$store.state.reportDetails.datePeriods},orderGroups:function(){return this.$store.state.reportDetails.orders.orderGroups},exportGroups:function(){return this.$store.state.reportDetails.orders.exportGroups},crewGroups:function(){return this.$store.state.reportDetails.drivers.crewGroups},crewMembers:function(){return this.$store.state.reportDetails.drivers.crewMembers}},data:function(){return{activeTab:"drivers",showDateFilter:!1,showPeriodDropdown:!1,currentDatePeriodId:0,dateFilterInput:"".concat((new Date).getDate(),"/").concat((new Date).getMonth()+1,"/").concat((new Date).getFullYear()),dateFilter:{period:null,date:null},showOrderGroups:!1,showExportGroups:!1,showCrewGroups:!1,showCrewMembers:!1,currentOrderGroupId:0,currentExportGroupId:0,currentCrewGroupId:0,currentCrewMemberId:0}},methods:{toggleTab:function(t){this.showOrderGroups=!1,this.showExportGroups=!1,this.showCrewGroups=!1,this.showCrewMembers=!1,this.activeTab=t},toggleDateFilter:function(){this.showDateFilter=!this.showDateFilter},togglePeriodDropdown:function(){this.showPeriodDropdown=!this.showPeriodDropdown},confirmDateFilter:function(){var t=this;this.dateFilterInput&&(this.dateFilter.period=this.datePeriods.find((function(e){return e.id===t.currentDatePeriodId})),this.dateFilter.date=this.dateFilterInput,this.toggleDateFilter())},cancelDateFilter:function(){this.currentDatePeriodId=0,this.dateFilterInput="".concat((new Date).getDate(),"/").concat((new Date).getMonth()+1,"/").concat((new Date).getFullYear()),this.toggleDateFilter()},selectDatePeriod:function(t){this.currentDatePeriodId=t,this.togglePeriodDropdown()},setFormattedDate:function(t){if(8!==t.keyCode){var e=t.target.value.split("");2!==e.length&&5!==e.length||e.push("/"),this.dateFilterInput=e.join("")}else this.dateFilterInput=""},selectOrderGroup:function(t){this.currentOrderGroupId=t,this.showOrderGroups=!1},selectExportGroup:function(t){this.currentExportGroupId=t,this.showExportGroups=!1},selectCrewGroup:function(t){this.currentCrewGroupId=t,this.showCrewGroups=!1},selectCrewMember:function(t){this.currentCrewMemberId=t,this.showCrewMembers=!1}}},Ee=Se,Ge=(i("435c"),Object(o["a"])(Ee,Oe,De,!1,null,"1efc2764",null)),je=Ge.exports,$e=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"info-container"},[s("div",{staticClass:"info-header"},[s("div",{staticClass:"header-btn"},[s("p",{staticClass:"btn-text",on:{click:t.toggleCityFilters}},[t._v(t._s(t.cityFilters.find((function(e){return e.id===t.selectedCityFilterId})).title))]),s("img",{attrs:{src:i("6505"),alt:"drop-icon",id:"drop"}}),t.showCityFilters?s("div",{staticClass:"dropdown"},t._l(t.cityFilters,(function(e){return s("div",{key:e.id,staticClass:"dropdown-item",class:{selected:e.id===t.selectedCityFilterId},on:{click:function(i){return t.selectCityFilter(e.id)}}},[s("p",{staticClass:"item-text"},[t._v(t._s(e.title))])])})),0):t._e()]),s("div",{staticClass:"header-btn"},[s("p",{staticClass:"btn-text",on:{click:t.toggleGroupFilters}},[t._v(t._s(t.groupFilters.find((function(e){return e.id===t.selectedGroupFilterId})).title))]),s("img",{attrs:{src:i("6505"),alt:"drop-icon",id:"drop"}}),t.showGroupFilters?s("div",{staticClass:"dropdown"},t._l(t.groupFilters,(function(e){return s("div",{key:e.id,staticClass:"dropdown-item",class:{selected:e.id===t.selectedGroupFilterId},on:{click:function(i){return t.selectGroupFilter(e.id)}}},[s("p",{staticClass:"item-text"},[t._v(t._s(e.title))])])})),0):t._e()]),s("div",{staticClass:"separator"})]),s("div",{staticClass:"info-body"},[s("simplebar",{staticClass:"info-list",attrs:{"data-simplebar-auto-hide":"false"}},t._l(t.infoMessages,(function(e){return s("div",{key:e.id,staticClass:"message-container"},[s("p",{staticClass:"message-text"},[t._v(t._s(e.text))]),s("span",{attrs:{id:"created-time"}},[t._v(t._s(e.time))])])})),0),"director"===this.$route.name?s("div",{staticClass:"input-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newMessage,expression:"newMessage"}],attrs:{type:"text",placeholder:"Ввод сообщения"},domProps:{value:t.newMessage},on:{input:function(e){e.target.composing||(t.newMessage=e.target.value)}}}),s("div",{staticClass:"underline"})]):t._e()],1),s("div",{staticClass:"info-footer"},["director"===this.$route.name?s("div",{staticClass:"footer-btn",on:{click:t.createMessage}},[s("p",{staticClass:"btn-text"},[t._v("Отправить")])]):t._e()])])},Ae=[],Me={name:"InfoWindow",components:{simplebar:B["a"]},computed:{infoMessages:function(){return this.$store.state.infos.messages},cityFilters:function(){return this.$store.state.infos.cities},groupFilters:function(){return this.$store.state.infos.groups}},data:function(){return{showCityFilters:!1,showGroupFilters:!1,selectedCityFilterId:0,selectedGroupFilterId:0,newMessage:""}},methods:{toggleCityFilters:function(){this.showGroupFilters=!1,this.showCityFilters=!this.showCityFilters},toggleGroupFilters:function(){this.showCityFilters=!1,this.showGroupFilters=!this.showGroupFilters},selectCityFilter:function(t){this.selectedCityFilterId=t,this.showCityFilters=!1},selectGroupFilter:function(t){this.selectedGroupFilterId=t,this.showGroupFilters=!1},createMessage:function(){console.log("sendind message")}}},Pe=Me,Re=(i("7b17"),Object(o["a"])(Pe,$e,Ae,!1,null,"6b33dac7",null)),Te=Re.exports,Be=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"chat-window"},[s("div",{staticClass:"chat-header"},[s("div",{staticClass:"header-btn",class:{active:t.showDropdown}},[s("p",{staticClass:"btn-text",on:{click:t.toggleDropdown}},[t._v("Оператор")]),s("img",{attrs:{src:i("6505"),alt:"drop-icon",id:"drop"}}),t.showDropdown?s("div",{staticClass:"dropdown"},t._l(t.operators,(function(e){return s("div",{key:e.id,staticClass:"dropdown-item",class:{selected:e.id===t.selectedOperatorId},on:{click:function(i){return t.selectOperator(e.id)}}},[s("p",{staticClass:"item-text"},[t._v(t._s(e.name))])])})),0):t._e()]),s("div",{staticClass:"separator"}),t._m(0)]),s("div",{staticClass:"chat-main"},[s("div",{staticClass:"chat-label"},[t._v(t._s(t.operators.find((function(e){return e.id===t.selectedOperatorId})).name))]),s("simplebar",{staticClass:"scrollable-chat"}),s("div",{staticClass:"input-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newMessage,expression:"newMessage"}],attrs:{type:"text",placeholder:"Ввод сообщения"},domProps:{value:t.newMessage},on:{input:function(e){e.target.composing||(t.newMessage=e.target.value)}}}),s("div",{staticClass:"underline"})])],1),s("div",{staticClass:"chat-footer"},[s("div",{staticClass:"footer-btn",on:{click:t.sendMessage}},[t._v("Отправить")])])])},Ne=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header-btn"},[i("p",{staticClass:"btn-text"},[t._v("Директор")])])}],We={name:"OperatorChat",components:{simplebar:B["a"]},computed:{operators:function(){return this.$store.state.chats.chatFilters.operators}},data:function(){return{showDropdown:!1,selectedOperatorId:0,newMessage:""}},methods:{toggleDropdown:function(){this.showDropdown=!this.showDropdown},selectOperator:function(t){this.selectedOperatorId=t,this.showDropdown=!1},sendMessage:function(){console.log("sending message..."),this.newMessage=""}}},Ve=We,He=(i("3738"),Object(o["a"])(Ve,Be,Ne,!1,null,"f0d70d1c",null)),Le=He.exports,ze=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"map-settings-container"},t._l(t.mapSettings,(function(t,e){return i("DropdownButton",{key:"setting-"+e,class:"setting-"+e,attrs:{dropdownInfo:t}})})),1)},Ze=[],qe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dropdown-button"},[s("div",{staticClass:"button-container",on:{click:t.toggleOptions}},[s("div",{staticClass:"picked-option"},[t._v(t._s(t.defaultSetting))]),s("img",{staticClass:"dropdown-icon",attrs:{src:i("6505")}})]),t.options?s("div",{staticClass:"dropdown"},t._l(t.dropdownInfo,(function(e,i){return s("div",{key:i,staticClass:"option",on:{click:function(i){return t.pickOption(e)}}},[t._v(t._s(e))])})),0):t._e()])},Je=[],Ue={data:function(){return{options:!1,defaultSetting:this.dropdownInfo[0]}},props:{dropdownInfo:Array},methods:{toggleOptions:function(){this.options=!this.options},pickOption:function(t){this.options=!1,this.defaultSetting=t}}},Ye=Ue,Ke=(i("e1e5"),Object(o["a"])(Ye,qe,Je,!1,null,"c0c51d00",null)),Qe=Ke.exports,Xe={components:{DropdownButton:Qe},data:function(){return{mapSettings:{cities:["Город 1","Город 2","Город 3","Город 4"],groups:["Группа 1","Группа 2","Группа 3","Группа 4"],orderStates:["Свободные","На заказе","Все"]}}}},ti=Xe,ei=(i("d407"),Object(o["a"])(ti,ze,Ze,!1,null,"3b7b517e",null)),ii=ei.exports,si=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"statistics-container",style:this.statsopen?{height:"166px"}:{height:"36px"},on:{click:t.toggleStats}},[t._m(0),t._m(1),t.statsopen?i("div",{staticClass:"maximized-stat"},[t._m(2),t._m(3),t._m(4),t._m(5),t._m(6)]):t._e()])},ri=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"openstat"},[s("img",{attrs:{src:i("6505")}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"minified-stat"},[i("p",{staticClass:"stat-name"},[t._v("Сумма списаний у директора")]),i("p",{staticClass:"stat-value"},[t._v("1000 Р")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"minified-stat"},[i("p",{staticClass:"stat-name"},[t._v("Сумма у водителей")]),i("p",{staticClass:"stat-value"},[t._v("5000 Р")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"minified-stat"},[i("p",{staticClass:"stat-name"},[t._v("Выполнено заказов")]),i("p",{staticClass:"stat-value"},[t._v("20")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"minified-stat"},[i("p",{staticClass:"stat-name"},[t._v("Текущие заказы")]),i("p",{staticClass:"stat-value"},[t._v("7")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"minified-stat"},[i("p",{staticClass:"stat-name"},[t._v("Машины онлайн")]),i("p",{staticClass:"stat-value"},[t._v("1000р")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"minified-stat"},[i("p",{staticClass:"stat-name"},[t._v("Количество свободных машин")]),i("p",{staticClass:"stat-value"},[t._v("8")])])}],ai={name:"Statistics",data:function(){return{statsopen:!1}},methods:{toggleStats:function(){this.statsopen=!this.statsopen}}},oi=ai,ni=(i("6adb"),Object(o["a"])(oi,si,ri,!1,null,"268e9465",null)),li=ni.exports,ci={name:"director",components:{Header:y,MenuControls:P,OrdersWindow:Pt,DriversWindow:Ie,ReportsWindow:je,InfoWindow:Te,DirectorChat:Le,MapFilters:ii,Statistics:li},computed:{windows:function(){return this.$store.state.windows}},methods:{closeOpenedTabs:function(){for(var t in this.windows)this.windows[t]&&this.$store.commit("toggleWindow",t)}},created:function(){ymaps.ready((function(){var t=new ymaps.Map("map",{center:[55.76,37.64],controls:[],zoom:15}),e=new ymaps.control.ZoomControl({options:{size:"small",position:{top:"300px",right:"10px"}}}),i=new ymaps.control.GeolocationControl({options:{noPlacemark:!0,position:{top:"375px",right:"10px"}}});i.events.add("locationchange",(function(e){var i=e.get("position"),s=new ymaps.Placemark(i);t.geoObjects.add(s),t.panTo(i)}));var s=new ymaps.multiRouter.MultiRoute({referencePoints:["Москва, метро Смоленская","Москва, метро Арбатская"]},{boundsAutoApply:!0});t.geoObjects.add(s),t.controls.add(i),t.controls.add(e)}))}},di=ci,ui=(i("eab1"),Object(o["a"])(di,_,C,!1,null,"a227af3a",null)),pi=ui.exports,vi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"operator"},[i("Header",{staticClass:"header"}),i("MenuControls",{staticClass:"menu-controls"}),t.windows["orders"]?i("OrdersWindow",{staticClass:"dialogue-window"}):t._e(),t.windows["drivers"]?i("DriversWindow",{staticClass:"dialogue-window"}):t._e(),t.windows["info"]?i("InfoWindow",{staticClass:"dialogue-window"}):t._e(),t.windows["chat"]?i("OperatorChat",{staticClass:"dialogue-window chat"}):t._e(),i("MapFilters",{staticClass:"map-settings"}),i("div",{attrs:{id:"map"},on:{click:t.closeOpenedTabs}})],1)},hi=[],mi=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"chats-window"},[s("div",{staticClass:"chats-container"},[s("div",{staticClass:"chats-manage"},[s("div",{staticClass:"chats-header",class:{disabled:t.showChat}},[s("div",{staticClass:"header-btn"},[s("p",{staticClass:"btn-text",on:{click:function(e){t.showGroupFilters=!t.showGroupFilters}}},[t._v(t._s(t.groupFilters.find((function(e){return e.id===t.currentGroupFilterId})).title))]),t.showGroupFilters?s("div",{staticClass:"dropdown",attrs:{id:"left"}},t._l(t.groupFilters,(function(e){return s("div",{key:e.id,staticClass:"dropdown-item",on:{click:function(i){return t.selectGroupFilter(e.id)}}},[s("p",{staticClass:"dropdown-item-text",class:{selected:e.id===t.currentGroupFilterId}},[t._v(t._s(e.title))])])})),0):t._e()]),s("div",{staticClass:"separator"}),s("div",{staticClass:"header-btn"},[s("p",{staticClass:"btn-text",on:{click:function(e){t.showStatusFilters=!t.showStatusFilters}}},[t._v(t._s(t.statusFilters.find((function(e){return e.id===t.currentStatusFilterId})).title))]),t.showStatusFilters?s("div",{staticClass:"dropdown",attrs:{id:"right"}},t._l(t.statusFilters,(function(e){return s("div",{key:e.id,staticClass:"dropdown-item",on:{click:function(i){return t.selectStatusFilter(e.id)}}},[s("p",{staticClass:"dropdown-item-text",class:{selected:e.id===t.currentStatusFilterId}},[t._v(t._s(e.title))])])})),0):t._e()])]),s("div",{staticClass:"list-wrapper"},[s("div",{staticClass:"chats-label"},[0===t.currentGroupFilterId?s("p",{staticClass:"header-name"},[t._v("Все чаты")]):s("p",{staticClass:"header-name"},[t._v(t._s(t.groupFilters.find((function(e){return e.id===t.currentGroupFilterId})).title))])]),s("simplebar",{ref:"scroll",staticClass:"scrollable-chats",attrs:{"data-simplebar-auto-hide":"false"}},t._l(t.chats,(function(e){return s("div",{key:e.id,staticClass:"chat-preview"},[s("img",{attrs:{alt:"chat-member-avatar",src:i("9780"),id:"avatar"}}),s("div",{staticClass:"info",on:{click:function(i){return t.openChat(e.id)}}},[s("p",{staticClass:"chat-name"},[t._v(t._s(e.name))]),s("p",{staticClass:"last-message"},[t._v(t._s(e.lastMessage))])]),s("img",{attrs:{alt:"options-icon",src:i("eadd"),id:"options"},on:{click:function(i){return t.toggleChatOptions(i,e.id)}}}),s("div",{staticClass:"footer-line"})])})),0)],1),t.showChat?s("div",{staticClass:"chat-view"},[s("div",{staticClass:"chat-header"},[s("img",{attrs:{alt:"back-icon",src:i("6505"),id:"back"},on:{click:t.closeChat}}),s("p",{staticClass:"header-name"},[t._v(t._s(t.selectedChatInfo.name))])]),s("div",{staticClass:"scrollable-chat"}),s("div",{staticClass:"send-message"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.messageInput,expression:"messageInput"}],staticClass:"msg-input",attrs:{type:"text",placeholder:"Ввод сообщения"},domProps:{value:t.messageInput},on:{input:function(e){e.target.composing||(t.messageInput=e.target.value)}}}),s("div",{staticClass:"input-underline"})])]):t._e(),s("div",{staticClass:"chats-footer"},[t.showChat?s("div",{staticClass:"footer-btn"},[t._v("Отправить")]):s("div",{staticClass:"footer-btn"},[t._v("Написать всем")])])])]),t.showChatOptions?s("div",{staticClass:"options-dropdown",style:{top:t.chatOptionsTopStyleProp+"px"}},[s("p",{staticClass:"dropdown-item",on:{click:function(e){return t.editChat(t.chatIdWaitingForChange)}}},[t._v("Изменить")]),s("p",{staticClass:"dropdown-item",on:{click:function(e){return t.deleteChat(t.chatIdWaitingForChange)}}},[t._v("Удалить")])]):t._e()])},fi=[],_i={name:"ChatsWindow",components:{simplebar:B["a"]},computed:{chats:function(){return this.$store.state.chats.chatPreviews},groupFilters:function(){return this.$store.state.chats.chatFilters.groups},statusFilters:function(){return this.$store.state.chats.chatFilters.status},selectedChatInfo:function(){var t=this;return this.chats.find((function(e){return e.id===t.selectedChatId}))}},data:function(){return{currentGroupFilterId:0,currentStatusFilterId:0,showChat:!1,showChatOptions:!1,showGroupFilters:!1,showStatusFilters:!1,chatOptionsTopStyleProp:null,chatIdWaitingForChange:null,selectedChatId:null,messageInput:""}},methods:{toggleChatOptions:function(t,e){this.showChatOptions&&null!==this.chatIdWaitingForChange&&e===this.chatIdWaitingForChange?(this.showChatOptions=!1,this.chatIdWaitingForChange=null,this.chatOptionsTopStyleProp=null):(this.chatIdWaitingForChange=e,this.chatOptionsTopStyleProp=t.target.parentNode.getBoundingClientRect().top-document.querySelector(".chats-container").getBoundingClientRect().top,this.showChatOptions=!0)},selectGroupFilter:function(t){this.currentGroupFilterId=t,this.showGroupFilters=!1},selectStatusFilter:function(t){this.currentStatusFilterId=t,this.showStatusFilters=!1},openChat:function(t){this.showChatOptions=!1,this.selectedChatId=t,this.showChat=!0},closeChat:function(){this.showChat=!1,this.selectedChatId=null},handleScroll:function(){this.showChatOptions=!1,this.chatIdWaitingForChange=null,this.chatOptionsTopStyleProp=null}},mounted:function(){this.$refs.scroll.scrollElement.addEventListener("scroll",this.handleScroll)},beforeDestroy:function(){this.$refs.scroll.scrollElement.removeEventListener("scroll",this.handleScroll)}},Ci=_i,wi=(i("3daa"),Object(o["a"])(Ci,mi,fi,!1,null,"40750a99",null)),gi=wi.exports,bi={name:"operator",components:{Header:y,MenuControls:P,OrdersWindow:Pt,DriversWindow:Ie,OperatorChat:gi,InfoWindow:Te,MapFilters:ii},computed:{windows:function(){return this.$store.state.windows}},methods:{closeOpenedTabs:function(){for(var t in this.windows)this.windows[t]&&this.$store.commit("toggleWindow",t)}},created:function(){ymaps.ready((function(){var t=new ymaps.Map("map",{center:[55.76,37.64],controls:[],zoom:15}),e=new ymaps.control.ZoomControl({options:{size:"small",position:{top:"300px",right:"10px"}}}),i=new ymaps.control.GeolocationControl({options:{noPlacemark:!0,position:{top:"375px",right:"10px"}}});i.events.add("locationchange",(function(e){var i=e.get("position"),s=new ymaps.Placemark(i);t.geoObjects.add(s),t.panTo(i)}));var s=new ymaps.multiRouter.MultiRoute({referencePoints:["Москва, метро Смоленская","Москва, метро Арбатская"]},{boundsAutoApply:!0});t.geoObjects.add(s),t.controls.add(i),t.controls.add(e)}))}},ki=bi,xi=(i("4bdb"),Object(o["a"])(ki,vi,hi,!1,null,"786f0599",null)),yi=xi.exports;s["a"].use(d["a"]);var Fi=new d["a"]({mode:"history",base:"/taxi/",routes:[{path:"/",name:"login",component:f},{path:"/director",name:"director",component:pi},{path:"/operator",name:"operator",component:yi}]}),Ii=i("2f62");s["a"].use(Ii["a"]);var Oi=new Ii["a"].Store({state:{ordersOpen:!1,windows:{orders:!1,drivers:!1,info:!1,reports:!1,chat:!1},orders:[{comment:"Go to Niko and smoke hookah",id:1,state_id:1,state_kind:"accepted",source:"Toronto",source_lat:52.192652,source_lon:54.627506,destination:"Izba",destination_lat:42.372136,destination_lon:51.240732,stops:[{address:"Ottawa",lat:53.023744,lon:41.937491,id:0}],customer:"Bob Burger",passanger:"Bob Burger",crew_id:1,order_crew_group_id:1,is_prior:!0,auto_search_driver:!0,name:"Bob Burger",phone:"1-234-567-89-0",save_client:!0,tariff_id:1,hourly_payment:!0,two_way_ride:!0,attributes:[{id:2,title:"Attribute 2"},{id:1,title:"Детское кресло"}],total_cost:"550",cashless_sum:"322",cash_sum:"228",timestamp:{minutes:"22",date:"14/04/2020"}}],orderDetails:{tariffs:[{id:1,title:"Тариф 1"},{id:2,title:"Тариф 2"},{id:3,title:"Тариф 3"}],attributes:[{id:1,title:"Детское кресло"},{id:2,title:"Attribute 2"},{id:3,title:"Attribute 3"}],crewGroups:[{id:1,title:"Группа 1"},{id:2,title:"Группа 2"},{id:3,title:"Группа 3"}],crews:[{id:1,title:"Экипаж 1"},{id:2,title:"Экипаж 2"},{id:3,title:"Экипаж 3"}],status:[{id:1,title:"Текущие"},{id:2,title:"Предварительные"},{id:3,title:"Завершённые"}],orderStatuses:[{id:1,title:"Принят",kind:"accepted",color:"#019232"},{id:2,title:"В работе",kind:"working",color:"#019232"},{id:3,title:"В очереди ",kind:"queued",color:"#019232"},{id:4,title:"Выполнен",kind:"done",color:"#D8D8D8"},{id:5,title:"Прекращён",kind:"stoppded",color:"#D8D8D8"},{id:6,title:"Нет машин",kind:"nocars",color:"#D8D8D8"},{id:7,title:"Водитель принял заказ",kind:"driver_accepted",color:"#019232"},{id:8,title:"Водитель принял заказ по времени",kind:"driver_accpeted_time",color:"#019232"},{id:9,title:"Водитель отказался от заказа",kind:"driver_canceled",color:"#FF3737"},{id:10,title:"Водитель подъехал на место",kind:"driver_arrived",color:"#019232"},{id:11,title:"Клиент в машине",kind:"client_seated",color:"#019232"},{id:12,title:"Клиент не вышел",kind:"client_late",color:"#FF3737"},{id:13,title:"Заказ отправлен водителю",kind:"sent_to_driver",color:"#019232"},{id:14,title:"Заказ получен водителем",kind:"driver_received",color:"#019232"}]},drivers:[{id:2,driver_id:1,name:"DRIVER_NAME1",balance:100,birthday:"01.01.1980",car_id:1,license:"1234567890",home_phone:"123456",mobile_phone:"+79123456788",is_locked:!1,is_dismissed:!1,order_params:[3,4],phones:[{phone:"79999999999",is_default:!0,use_for_call:!0},{phone:"79999999999",is_default:!1,use_for_call:!0}],term_account:"00008",auto_model:"Генезис",auto_color:"серый",auto_number:"ар8000сс",auto_attributes:[{id:1,title:'Кузов "универсал"',kind:"estate_wagon"},{id:7,title:"+ 50",kind:"plus_50"},{id:3,title:"Дети 0 до 12",kind:"children_012"},{id:9,title:"+ 500",kind:"plus_500"},{id:5,title:"Вместительный багажник",kind:"big_trunk"}]},{id:3,driver_id:2,name:"DRIVER_NAME2",balance:-50,birthday:"01.01.1980",car_id:2,license:"1234567899",home_phone:"123457",mobile_phone:"+79123456789",is_locked:!0,is_dismissed:!0,order_params:[5,6],phones:[{phone:"79999999999",is_default:!0,use_for_call:!0},{phone:"79999999999",is_default:!1,use_for_call:!1}],term_account:"00009",auto_model:"Camry",auto_color:"синий",auto_number:"ве4178ао",auto_attributes:[{id:1,title:'Кузов "универсал"',kind:"estate_wagon"},{id:7,title:"+ 50",kind:"plus_50"},{id:3,title:"Дети 0 до 12",kind:"children_012"},{id:9,title:"+ 500",kind:"plus_500"},{id:5,title:"Вместительный багажник",kind:"big_trunk"}]},{id:5,name:"Зубенко Михаил Петрович",driver_id:"228322",balance:200,name_for_taxophone:"mafioznik",phones:[{phone:"8-800-555-35-35",is_default:!0,use_for_call:!0}],comment:"пустой коммент",password:"guest",auto_model:"Девятка",auto_color:"вишнёвая",auto_number:"аа0001аа",auto_attributes:[{id:1,title:'Кузов "универсал"',kind:"estate_wagon"},{id:7,title:"+ 50",kind:"plus_50"},{id:3,title:"Дети 0 до 12",kind:"children_012"},{id:9,title:"+ 500",kind:"plus_500"},{id:5,title:"Вместительный багажник",kind:"big_trunk"}]}],driverFilters:{status:[{id:0,kind:"online",title:"Онлайн"},{id:1,kind:"free",title:"Свободный"},{id:2,kind:"on_order",title:"На заказе"},{id:3,kind:"all",title:"Все"}],group:[{id:0,kind:"group_1",title:"Группа 1"},{id:1,kind:"group_2",title:"Группа 2"},{id:2,kind:"group_3",title:"Группа 3"},{id:3,kind:"all",title:"Все"}]},driverAutoDetails:{attributes:[{id:1,title:'Кузов "универсал"',kind:"estate_wagon"},{id:2,title:"Дети 0 до 7",kind:"children_07"},{id:3,title:"Дети 0 до 12",kind:"children_012"},{id:4,title:"Пустой багажник",kind:"empty_trunk"},{id:5,title:"Вместительный багажник",kind:"big_trunk"},{id:6,title:"+ 10",kind:"plus_10"},{id:7,title:"+ 50",kind:"plus_50"},{id:8,title:"+ 100",kind:"plus_100"},{id:9,title:"+ 500",kind:"plus_500"},{id:10,title:"Работа по запланированной смене",kind:"planned_shift"}]},photoReviews:{reviews:[{id:0,auto_model:"Лада Гранта",auto_color:"Белая",auto_number:"960",startDate:{time:"13:35",date:"12/05/2020"},recieveDate:{time:"13:42",date:"12/05/2020"},comments:"kjdsghjadshgjkdsghkjldsahgjkldhasjg",photos:[{id:0,kind:"car_front",title:"Спереди",src:"car_front"},{id:1,kind:"car_left",title:"Слева",src:"car_left"},{id:2,kind:"car_right",title:"Справа",src:"car_right"},{id:3,kind:"car_back",title:"Сзади",src:"car_back"}]},{id:1,auto_model:"Лада Гранта",auto_color:"Белая",auto_number:"960",startDate:{time:"13:35",date:"12/05/2020"},recieveDate:{time:"13:42",date:"12/05/2020"},comments:"kjdsghjadshgjkdsghkjldsahgjkldhasjg",photos:[{id:0,kind:"car_front",title:"Спереди",src:"car_front"},{id:1,kind:"car_left",title:"Слева",src:"car_left"},{id:2,kind:"car_right",title:"Справа",src:"car_right"},{id:3,kind:"car_back",title:"Сзади",src:"car_back"}]},{id:2,auto_model:"Лада Гранта",auto_color:"Белая",auto_number:"960",startDate:{time:"13:35",date:"12/05/2020"},recieveDate:{time:"13:42",date:"12/05/2020"},comments:"kjdsghjadshgjkdsghkjldsahgjkldhasjg",photos:[{id:0,kind:"car_front",title:"Спереди",src:"car_front"},{id:1,kind:"car_left",title:"Слева",src:"car_left"},{id:2,kind:"car_right",title:"Справа",src:"car_right"},{id:3,kind:"car_back",title:"Сзади",src:"car_back"}]}],reviewFilters:{status:[{id:0,kind:"new",title:"Новые"},{id:1,kind:"on_inspection",title:"На проверке"},{id:2,kind:"inspected",title:"Готовые"}],date:[{id:0,kind:"today",title:"Сегодня"},{id:1,kind:"yesterday",title:"Вчера"},{id:2,kind:"week",title:"Неделя"}],sortBy:[{id:0,kind:"crew",title:"Экипаж"},{id:1,kind:"name_for_taxofone",title:"Позывной"}]}},reportDetails:{orders:{orderGroups:[{id:0,kind:"all",title:"Все"},{id:1,kind:"group_1",title:"Группа 1"},{id:2,kind:"group_2",title:"Группа 2"},{id:3,kind:"group_3",title:"Группа 3"},{id:4,kind:"group_4",title:"Группа 4"}],exportGroups:[{id:0,kind:"all",title:"Все"},{id:1,kind:"group_1",title:"Группа 1"},{id:2,kind:"group_2",title:"Группа 2"},{id:3,kind:"group_3",title:"Группа 3"},{id:4,kind:"group_4",title:"Группа 4"}]},drivers:{crewGroups:[{id:0,kind:"all",title:"Все"},{id:1,kind:"crew_1",title:"Экипаж 1"},{id:2,kind:"crew_2",title:"Экипаж 2"},{id:3,kind:"crew_3",title:"Экипаж 3"},{id:4,kind:"crew_4",title:"Экипаж 4"}],crewMembers:[{id:0,kind:"all",title:"Все"},{id:1,kind:"member_1",title:"Фамилия И.О"},{id:2,kind:"member_2",title:"Фамилия И.О"},{id:3,kind:"member_3",title:"Фамилия И.О"},{id:4,kind:"member_4",title:"Фамилия И.О"}]},datePeriods:[{id:0,kind:"today",title:"Сегодня"},{id:1,kind:"yesterday",title:"Вчера"},{id:2,kind:"week",title:"Неделя"},{id:3,kind:"month",title:"Месяц"}]},infos:{messages:[{id:0,text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam porta fringilla nunc, ac rhoncus turpis. Sed vel nunc luctus, placerat ligula et, porttitor dui.",time:"12:35"},{id:1,text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam porta fringilla nunc, ac rhoncus turpis. Sed vel nunc luctus, placerat ligula et, porttitor dui.",time:"12:35"}],cities:[{id:0,title:"Все"},{id:1,title:"Город 1"},{id:2,title:"Город 2"},{id:3,title:"Город 3"}],groups:[{id:0,title:"Все"},{id:1,title:"Группа 1"},{id:2,title:"Группа 2"},{id:3,title:"Город 3"}]},chats:{chatPreviews:[{id:0,name:"Иванов И.И",lastMessage:"This is a message"},{id:1,name:"Стегний С.Б",lastMessage:"This is a message"},{id:2,name:"Иванов И.И",lastMessage:"This is a message"},{id:3,name:"Иванов И.И",lastMessage:"This is a message"},{id:4,name:"Иванов И.И",lastMessage:"This is a message"},{id:5,name:"Иванов И.И",lastMessage:"This is a message"},{id:6,name:"Иванов И.И",lastMessage:"This is a message"},{id:7,name:"Иванов И.И",lastMessage:"This is a message"}],chatFilters:{groups:[{id:0,kind:"all",title:"Все"},{id:1,kind:"group_1",title:"Группа 1"},{id:2,kind:"group_2",title:"Группа 2"},{id:3,kind:"group_3",title:"Группа 3"}],operators:[{id:0,name:"Фамилия И.О"},{id:1,name:"Фамилия И.О"},{id:2,name:"Фамилия И.О"},{id:3,name:"Фамилия И.О"},{id:4,name:"Фамилия И.О"}],status:[{id:0,kind:"online",title:"Онлайн"},{id:1,kind:"offline",title:"Не в сети"},{id:2,kind:"all",title:"Все"}]}}},mutations:{toggleWindow:function(t,e){for(var i in t.windows)t.windows[i]=i===e&&!t.windows[i]},changeStatus:function(t,e){var i=e.order_id,s=e.status_id,r=t.orderDetails.orderStatuses.find((function(t){return t.id===s}));t.orders=t.orders.map((function(t){return+t.id===+i?Object(ct["a"])(Object(ct["a"])({},t),{},{state_kind:r.kind,state_id:r.id}):t}))},addOrder:function(t,e){t.orders=[].concat(Object(dt["a"])(t.orders),[Object(ct["a"])({},e)])},addDriver:function(t,e){t.drivers=[].concat(Object(dt["a"])(t.drivers),[Object(ct["a"])({},e)])},setDriver:function(t,e){t.drivers=t.drivers.map((function(t){return t.id===e.id?e:t}))}},actions:{createOrder:function(t,e){var i=t.commit;setTimeout((function(){i("addOrder",e)}),2e3)},createDriver:function(t,e){var i=t.commit;setTimeout((function(){return i("addDriver",e)}),2e3)},editDriver:function(t,e){return Object(te["a"])(regeneratorRuntime.mark((function i(){var s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:s=t.commit,setTimeout((function(){return s("setDriver",e)}),2e3);case 2:case"end":return i.stop()}}),i)})))()},updateStatus:function(t,e){var i=t.commit;setTimeout((function(){i("changeStatus",e)}),2e3)}}});s["a"].config.productionTip=!1,new s["a"]({router:Fi,store:Oi,render:function(t){return t(c)}}).$mount("#app")},"5bca":function(t,e,i){},"5d19":function(t,e,i){t.exports=i.p+"img/info-icon.d96cc370.svg"},"62c4":function(t,e,i){},6325:function(t,e,i){"use strict";var s=i("884a"),r=i.n(s);r.a},6505:function(t,e,i){t.exports=i.p+"img/drop-icon.ee432355.svg"},"67a2":function(t,e,i){t.exports=i.p+"img/path-icon.199a908c.svg"},"6aa4":function(t,e,i){"use strict";var s=i("6ffc"),r=i.n(s);r.a},"6adb":function(t,e,i){"use strict";var s=i("cea4"),r=i.n(s);r.a},"6ffc":function(t,e,i){},"710a":function(t,e,i){var s={"./car_back.jpg":"52d5","./car_front.jpg":"8f4b","./car_left.jpg":"df81","./car_right.jpg":"8375"};function r(t){var e=a(t);return i(e)}function a(t){if(!i.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}r.keys=function(){return Object.keys(s)},r.resolve=a,t.exports=r,r.id="710a"},7331:function(t,e,i){"use strict";var s=i("8fb1"),r=i.n(s);r.a},"758d":function(t,e,i){"use strict";var s=i("e033"),r=i.n(s);r.a},"77a3":function(t,e,i){},"7b17":function(t,e,i){"use strict";var s=i("4ca1"),r=i.n(s);r.a},"7f60":function(t,e,i){"use strict";var s=i("77a3"),r=i.n(s);r.a},"7f8f":function(t,e,i){},8042:function(t,e,i){t.exports=i.p+"img/pinpoint-icon.47d0ae20.svg"},8375:function(t,e,i){t.exports=i.p+"img/car_right.7a84a789.jpg"},"85ec":function(t,e,i){},8611:function(t,e,i){t.exports=i.p+"img/time-icon.57b3c36e.svg"},"884a":function(t,e,i){},"88b8":function(t,e,i){t.exports=i.p+"img/reports-icon.552723a5.svg"},8985:function(t,e,i){},"89da":function(t,e,i){},"8f4b":function(t,e,i){t.exports=i.p+"img/car_front.5bffc3ca.jpg"},"8fb1":function(t,e,i){},9780:function(t,e,i){t.exports=i.p+"img/user-icon.7413c94d.svg"},"9b19":function(t,e,i){t.exports=i.p+"img/logo.15098f51.svg"},"9b8b":function(t,e,i){t.exports=i.p+"img/endcall-icon.f1c3a222.svg"},"9ec3":function(t,e,i){t.exports=i.p+"img/acceptcall-icon.61a5d268.svg"},"9fbc":function(t,e,i){"use strict";var s=i("d69f"),r=i.n(s);r.a},ac2e:function(t,e,i){"use strict";var s=i("ee16"),r=i.n(s);r.a},b5df:function(t,e,i){"use strict";var s=i("62c4"),r=i.n(s);r.a},b7ea:function(t,e,i){},bdd2:function(t,e,i){t.exports=i.p+"img/chats-icon.77218cf0.svg"},c45b:function(t,e,i){},ce7b:function(t,e,i){},cea4:function(t,e,i){},d16c:function(t,e,i){},d407:function(t,e,i){"use strict";var s=i("3f04"),r=i.n(s);r.a},d69f:function(t,e,i){},dcb4:function(t,e,i){t.exports=i.p+"img/drivers-icon.a466a7a8.svg"},ded0:function(t,e,i){"use strict";var s=i("ce7b"),r=i.n(s);r.a},df81:function(t,e,i){t.exports=i.p+"img/car_left.3efc11b2.jpg"},e003:function(t,e,i){"use strict";var s=i("1158"),r=i.n(s);r.a},e033:function(t,e,i){},e1e5:function(t,e,i){"use strict";var s=i("44cd"),r=i.n(s);r.a},e203:function(t,e,i){"use strict";var s=i("2e02"),r=i.n(s);r.a},e92a:function(t,e,i){"use strict";var s=i("0c80"),r=i.n(s);r.a},eab1:function(t,e,i){"use strict";var s=i("d16c"),r=i.n(s);r.a},eadd:function(t,e,i){t.exports=i.p+"img/status-changer-icon.88b17113.svg"},ee16:function(t,e,i){},efc4:function(t,e,i){"use strict";var s=i("8985"),r=i.n(s);r.a},f395:function(t,e,i){"use strict";var s=i("fc39"),r=i.n(s);r.a},f6fa:function(t,e,i){"use strict";var s=i("0e32"),r=i.n(s);r.a},fc39:function(t,e,i){},fcf3:function(t,e,i){}});
//# sourceMappingURL=app.daa12605.js.map